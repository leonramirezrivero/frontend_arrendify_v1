{% extends "layouts/base.html" %}

{% block title %} FIador - Documentos - Detalles {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

<link href="/static/assets/css/ms.css" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

{% endblock stylesheets %}

{% block content %}
<body onload="obtenerInquilino()">
<div id="li2" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4" style="background-color:#edede9;">
    <div class="d-block mb-4 mb-md-0" style="margin-left:10px">
      <h1 class="h1">Fiadores/Obligados </h1>
      <p class="mb-0">Listado de Fiadores/Obligados Registrados</p>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a href="#" class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2">
            <svg class="icon icon-xs me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            Nuevo Fiador/Obligado
        </a>
    </div>
  </div>

</div>
<div class="table-settings mt-2 mb-4">
  <div class="row justify-content-between align-items-center">
      <div class="col-9 col-lg-8 d-md-flex">
          <div class="input-group me-2 me-lg-3 fmxw-300">
              <span class="input-group-text">
                  <svg class="icon icon-xs" x-description="Heroicon name: solid/search" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                  </svg>
              </span>
              <input type="text" class="form-control" placeholder="Buscar por Nombre">
            </div>
            <select class="form-select fmxw-200 d-none d-md-inline" aria-label="Message select example 2">
                <option selected>Todos</option>
              <option value="1">Persona Moral</option>
              <option value="2">Persona Física</option>
            </select>
        </div>
    </div>
</div>
<div class="card card-body shadow border-0 table-wrapper table-responsive"><!-- podemos agregar la clase => table-responsive-->
    <table class="table user-table table-hover align-items-center mb-5"> <!--id="datatable"-->
        <thead>
            <tr >
                <th class="border-bottom"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                <th class="border-bottom">ID</th>
                <th class="border-bottom">Nombre</th>						
                <th class="border-bottom">Fecha de Registro</th>
                <th class="border-bottom">Tipo de Persona</th>
                <th class="border-bottom">Estatus</th>
                <th class="border-bottom">Acción</th>
                <th class="border-bottom"></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <div class="form-check dashboard-check">
                        <input class="form-check-input" type="checkbox" value="" id="userCheck1">
                    </div>
                </td>
                <td><span class="fw-normal ">{{inq.id}}</span></td>
                <td>
                    <a href="/detalles_inquilino/{{inq.id}}" class="d-flex align-items-center">
                        <div class="d-block">
                            <span class="fw-bold">{{inq.nombre}} {{inq.apellido}} {{inq.apellido1}}</span>
                            <div class="small text-gray">{{inq.email}}</div>
                        </div>
                    </a>
                </td>
                <td><span class="fw-normal">{{inq.created}}</span></td>                        
                <td>
                    <span class="fw-normal">{{inq.p_fom}}</span>
                </td>
                <td><span class="fw-normal text-success">Active</span></td>
                <td>
                    <div class="btn-group dropstart">
                        <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split " data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        
                        <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1">
                            <a class="dropdown-item d-flex align-items-center" href="/editar_inq/{{inq.id}}">
                                <svg xmlns="http://www.w3.org/2000/svg" title="Editar" data-bs-toggle="tooltip" fill="currentColor" fill-rule="evenodd"  class="icon icon-xs bi bi-pencil ms-1" viewBox="0 0 16 16">
                                    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                  </svg>&nbsp;Editar
                            </a>

                            <a class="dropdown-item d-flex align-items-center" onClick="alert0({{inq.id}})">
                                <svg class="icon icon-xs text-danger ms-1" title="Eliminar" data-bs-toggle="tooltip" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                &nbsp;Borrar
                            </a>                             
                        </div>   
                    </div>
                </td>

            </tr>
        </tbody>
    </table> 
</div>




{% comment %} ------------------------------------------------------------------------------------------------------ {% endcomment %}

<!-- Modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
  Abrir Modal
</button>
<div class="modal fade" id="archivos1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title text-primary" id="exampleModalLabel">Documentos Subidos - Fiador</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="location.href='/fiador_obligado/';"></button>
        </div>
        <div class="modal-body" style="background:linear-gradient(0deg, #231942ff, #5e548eff, #9f86c0ff, #be95c4ff, #e0b1cbff);">
          <div class="row me-1 ms-1 border shadow border-2" style="background-color:white;">
            <div class="col border-end border-2">
                <h2 class="h5 mb-3 mt-4" style="color:#231942ff;">Observa o Modifica tus archivos</h2>
            </div>
            
            <div class="col-md-4 mb-3">
                <label>Fiador: </label>
                <input id="fiador" name="fiador"  type="text" style="display:none"  readonly>
                <input class="form-control-plaintext card shadow border-1 ps-1" id="fiador_nombre" type="text" value="{{ arrendador.nombre_notario_ac}}"  readonly>
            </div> 
        </div> 
            <form class="mt-4" id="editar_archivos">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card mb-4">
                            <div class="card-body">
                                <h5 class="card-title" style="color:#231942ff;">Comprobante De Domicilio</h5>
                                <hr class="hr" />
                                <div class="mb-3" style="margin-bottom: 0;">
                                    <a class="mt-1" id="link_cd" href="URL_DEL_ARCHIVO" target="_blank" style="width: 70%; height: 70%; margin-left: auto; margin-right: auto; margin-top: 10px;">
                                        <div style="position: relative; width: 100%; height: 0; padding-bottom: 70%;">
                                            <iframe src="" id="frame_cd" class="w-100" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"></iframe>
                                        </div>
                                        <i class="bi bi-file-pdf" style="font-size: 3rem;"></i>
                                        <p>Ver Documento.</p>
                                    </a>
                                    <div id="div-comentarios-cdd">
                                      <label for="exampleFormControlTextarea1" class="form-label mt-3">Comentarios</label>
                                      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body pt-0">
                                <div class="col">           
                                    <!-- El botón de archivo personalizado -->
                                    <label for="Comp_dom" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                    </svg>
                                    </label>
                                    <!-- El input file oculto -->
                                    <input type="file" class="file-input" id="Comp_dom" hidden required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="card mb-4">
                            <div class="card-body">
                                <h5 class="card-title" style="color:#231942ff;">INE</h5>
                                <hr class="hr" />
                                <div class="mb-3" style="margin-bottom: 0;">
                                    <a class="mt-1" id="link_ine" href="URL_DEL_ARCHIVO" target="_blank" style="width: 70%; height: 70%; margin-left: auto; margin-right: auto; margin-top: 10px;">
                                        <div style="position: relative; width: 100%; height: 0; padding-bottom: 70%;">
                                            <iframe src="" id="frame_ine" class="w-100" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"></iframe>
                                        </div>
                                        <i class="bi bi-file-pdf" style="font-size: 3rem;"></i>
                                        <p>Ver Documento.</p>
                                    </a>
                                    <div id="div-comentarios-ine">
                                      <label for="exampleFormControlTextarea1" class="form-label mt-3">Comentarios</label>
                                      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body pt-0">
                                <div class="col">           
                                                <!-- El botón de archivo personalizado -->
                                    <label for="Ine" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                        <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                    </svg>
                                    </label>
                                    <!-- El input file oculto -->
                                    <input type="file" class="file-input" id="Ine" hidden required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="div-ingresos" class="col-md-4">
                      <div class="card mb-4">
                          <div class="card-body">
                              <h5 class="card-title" style="color:#231942ff;">Comprobante De Ingreso:</h5>
                              <hr class="hr" />
                              <div class="mb-3" style="margin-bottom: 0;">
                                  <a class="mt-1" id="link_ingresos" href="URL_DEL_ARCHIVO" target="_blank" style="width: 70%; height: 70%; margin-left: auto; margin-right: auto; margin-top: 10px;">
                                      <div style="position: relative; width: 100%; height: 0; padding-bottom: 70%;">
                                          <iframe src="" id="frame_ingresos" class="w-100" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"></iframe>
                                      </div>
                                      <i class="bi bi-file-pdf" style="font-size: 3rem;"></i>
                                      <p>Ver Documento.</p>
                                  </a>
                                  <div id="div-comentarios-Estado_cuenta">
                                    <label for="exampleFormControlTextarea1" class="form-label mt-3">Comentarios</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                  </div>
                              </div>
                          </div>
                          <div class="card-body pt-0">
                              <div class="col">           
                                  <!-- El botón de archivo personalizado -->
                                  <label for="Estado_cuenta" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                      <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                      <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                  </svg>
                                  </label>
                                  <!-- El input file oculto -->
                                  <input type="file" class="file-input" id="Estado_cuenta" hidden required>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div id="div-escrituras" class="col-md-4">
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="card-title" style="color:#231942ff;">Escrituras:</h5>
                            <hr class="hr" />
                            <div class="mb-3" style="margin-bottom: 0;">
                                <a class="mt-1" id="link_escrituras" href="URL_DEL_ARCHIVO" target="_blank" style="width: 70%; height: 70%; margin-left: auto; margin-right: auto; margin-top: 10px;">
                                    <div style="position: relative; width: 100%; height: 0; padding-bottom: 70%;">
                                        <iframe src="" id="frame_escrituras" class="w-100" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"></iframe>
                                    </div>
                                    <i class="bi bi-file-pdf" style="font-size: 3rem;"></i>
                                    <p>Ver Documento.</p>
                                </a>
                                <div id="div-comentarios-rfc">
                                  <label for="exampleFormControlTextarea1" class="form-label mt-3">Comentarios</label>
                                  <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="card-body pt-0">
                            <div class="col">           
                                <!-- El botón de archivo personalizado -->
                                <label for="Escrituras" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                </svg>
                                </label>
                                <!-- El input file oculto -->
                                <input type="file" class="file-input" id="Escrituras" hidden required>
                            </div>
                        </div>
                    </div>
                </div>

                </div>

            {% comment %} <button type="submit" class="btn btn-primary">Enviar</button> {% endcomment %}
            <button type="submit" id="finalizar"  class="btn btn-secondary mt-2">Guardar Cambios</button>
        </form>
      </div>
    </div>
  </div>
</div>











<div class="modal fade" id="archivos" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl overflow-auto">
      <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" style="height:15px" id="exampleModalLabel">Documentos Subidos</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="location.href='/arrendadores/';" aria-label="Close"></button>
        </div>
        <div class="modal-body" style="background:linear-gradient(0deg, #231942ff, #5e548eff, #9f86c0ff, #be95c4ff, #e0b1cbff);">
            <body>
                <div>
                    <div class="row me-1 ms-1 border shadow border-2 " style="background-color:white;">
                        <div class="col border-end border-2" >
                            <h2 class="h5 mb-3 mt-4">Observa o Modifica tus archivos</h2>
                        </div>
                    </div> 
                    
                      <div class="mt-4 " method="POST" enctype="multipart/form-data">
                            <div class="row" >
                                <div class="col border shadow border-2 p-3 me-2" style="background-color:white;">
                                    <h2 class="h5 mb-3 mt-4">Com. De Domicilio.</h2>
                                    <hr class="hr" />
                                    <div class="card mb-4" style="width: 100%;">
                                      <div class="card-body">
                                        <hr class="hr" />
                                        <div class="container">
                                          <div class="row">
                                            <div class="col">
                                                <button title="Eliminar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-danger">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                      </svg>
                                                </button>
                                            </div>
                                            <div class="col">
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div>
                                      <span>Comentarios:</span>
                                        <textarea class="form-control mb-2" placeholder="..." id="textarea" name="observaciones" rows="3"></textarea>
                                    </div>
                                  </div>

                                  <div class="col border shadow border-2 p-3 me-2" style="background-color:white;">
                                    <h2 class="h5 mb-3 mt-4">INE.</h2>
                                    <hr class="hr" />
                                    <div class="card mb-4" style="width: 100%;">

                                      <div class="card-body">
                                        <hr class="hr"/>
                                        <div class="container">
                                          <div class="row">
                                            <div class="col">
                                                <button title="Eliminar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-danger">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                      </svg>
                                                </button>
                                            </div>
                                            <div class="col">
                                                <!-- El botón de archivo personalizado -->
                                                {% comment %} <label for="Ine" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                                </svg>
                                                </label>
                                                <!-- El input file oculto -->
                                                <input type="file"  class="file-input" id="Ine"> {% endcomment %}
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div>
                                      <span>Comentarios:</span>
                                        <textarea class="form-control mb-2" placeholder="..." id="textarea" name="observaciones" rows="3"></textarea>
                                    </div>
                                  </div>

                                  <div class="col border shadow border-2 p-3 me-2" style="background-color:white;">
                                    <h2 class="h5 mb-3 mt-4">Predial</h2>
                                    <hr class="hr" />
                                    <div class="card mb-4" style="width: 100%;">
                                   
                                      <div class="card-body">
                                        <hr class="hr" />
                                        <div class="container">
                                          <div class="row">
                                            <div class="col">
                                              <button title="Eliminar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-danger">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                  </svg>
                                            </button>
                                            </div>
                                            <div class="col">
                                             
                                                <!-- El botón de archivo personalizado -->
                                                {% comment %} <label for="Rfc" title="Actualizar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-success custom-file-input">
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-upload" viewBox="0 0 16 16">
                                                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                                                    <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                                                </svg>
                                                </label>
                                                <!-- El input file oculto -->
                                                <input type="file" class="file-input" id="Rfc"> {% endcomment %}
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div>
                                      <span>Comentarios:</span>
                                        <textarea class="form-control mb-2" placeholder="..." id="textarea" name="observaciones" rows="3"></textarea>
                                    </div>
                                  </div>

                                  {% comment %} asuhaduosdas {% endcomment %}
                                  <div class="col border shadow border-2 p-3 me-2" style="background-color:white;">
                                    <h2 class="h5 mb-3 mt-4">Escrituras</h2>
                                    <hr class="hr" />
                                    <div class="card mb-4" style="width: 100%;">
                                      {% comment %} <a id="link_escrituras" href="URL_DEL_ARCHIVO" target="_blank" style="width: 70%; height: 70%; margin-left: auto; margin-right: auto; margin-top: 25px;">
                                        <div style="position: relative; width: 100%; height: 0; padding-bottom: 170%;" >
                                            <iframe src="" id="iframe_escrituras" class="w-100" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;"></iframe>
                                        </div>
                                        <br>
                                    </a> {% endcomment %}
                                    
                                    
                                    
                                      <div class="card-body">
                                        <hr class="hr"/>
                                        <div class="container">
                                          <div class="row">
                                            <div class="col">
                                              <button title="Eliminar" data-bs-toggle="tooltip" data-bs-placement="bottom" type="button" class="btn btn-outline-danger">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                                    <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                                  </svg>
                                            </button>
                                            </div>
                                            <div class="col">
                                             
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                    <div>
                                      <span>Comentarios:</span>
                                        <textarea class="form-control mb-2" placeholder="..." id="textarea" name="observaciones" rows="3"></textarea>
                                    </div>
                                  </div>
                            </div>
                       
                          {% comment %} <button type="submit" id="finalizar"  class="btn btn-secondary mt-2">Guardar Cambios</button> {% endcomment %}
                          {% comment %} <button type="button" onClick="enviar_datos()" class="btn btn-secondary mt-2">prueba conexion</button> {% endcomment %}
                    </div>
                 
                  </div>
              </body>
        </div>
      </div>
    </div>
  </div>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
    .file-input {
      display: none;
    }
    
    * {
        font-family: "Roboto";
    }
    body.swal2-shown > [aria-hidden="true"] {
        transition: 0.1s filter;
        filter: blur(10px);
      }
    body {
        background-color: #F5F5F5;
    }

    .formchido {
        background-color: #FFFFFF;
        padding: 25px;
    }

    table {
        width: 100%; 
        text-align: center;
        margin-top: 25px;
        padding: 25px;
        background-color: #FFFFFF;
    }

    table tr td {
        padding-top: 15px;            
    }
   
</style>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->


{% block javascripts %}
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    $(function () {
        $("form").keypress(function (e) {
            var key;
            if (window.event)
                key = window.event.keyCode; //IE
            else
                key = e.which; //firefox     
            return (key != 13);
        });
    });

    $(document).ready(function() {
       
       $('#archivos1').modal({ keyboard: false,backdrop: false })
       
       $('#archivos1').modal('show');
      

    });

const server = 'http://192.168.2.14:8001'
const configin = {
    headers: {
      'Content-Type': 'multipart/form-data',
      'Authorization': `Token ${localStorage.getItem('token')}`
    },
  };

  const btnSubmit = document.getElementById("finalizar")
  btnSubmit.addEventListener("click", function (event) {
      event.preventDefault();
  
      var formData = new FormData();
  
      var fileInputElement1 = document.getElementById("Comp_dom")
      var fileInputElement2 = document.getElementById("Ine")
      var fileInputElement3 = document.getElementById("Estado_cuenta")
      var fileInputElement4 = document.getElementById("Escrituras")
    
      console.log(fileInputElement2.files)
     
      if (fileInputElement1.files.length == 1){
        console.log("Comporbante No esta vacio")
        formData.append("Comp_dom", fileInputElement1.files[0]);
        enviar_datos(formData)
      }
      else{
      console.log("Comporbante esta vacio")
        //
      }
  
      if (fileInputElement2.files.length == 1){
        console.log("Ine No esta vacio")
        formData.append("Ine", fileInputElement2.files[0]);
        enviar_datos(formData)
      }
      else{
      console.log("Ine esta vacio")
      }
  
      if (fileInputElement3.files.length == 1){
        console.log("Estado_cuenta No esta vacio")
        formData.append("Estado_cuenta", fileInputElement3.files[0])
        enviar_datos(formData)
      }
      else{
      console.log("Estado_cuenta esta vacio")
        
      }
      if (fileInputElement4.files.length == 1){
        console.log("Escrituras No esta vacio")
        console.log(fileInputElement4.files[0])
  
        formData.append("Escrituras", fileInputElement4.files[0]);
        enviar_datos(formData)
      }
      else{
      console.log("Escrituras esta vacio")
        //
      }
     
  if (fileInputElement4.files.length == 0 && fileInputElement3.files.length == 0 && fileInputElement2.files.length == 0 && fileInputElement1.files.length == 0 )
  {
    Swal.fire({
      icon: 'error',
      title: 'Algo salio mal',
      text: 'Documentos vacios, por favor adjunta alguno que desees actualizar!'
    })
  }
      //enviar_datos(formData)
  })

function obtenerInquilino(){
      var datos = JSON.parse( localStorage.getItem('data_fiador'))
      console.log(datos)
      
      if(datos.fiador_obligado == "Fiador Solidario"){
      document.getElementById("div-ingresos").style.display = 'none'
      document.getElementById("fiador").value = datos.id
      document.getElementById("fiador_nombre").value = `${datos.n_fiador} ${datos.a_fiador} ${datos.a2_fiador}`
      // ocultar documentos para pf o para pm

      }
      if(datos.fiador_obligado == "Obligado Solidario Persona Fisica" || datos.fiador_obligado == "Obligado Solidario Persona Moral"){
          document.getElementById("div-escrituras").style.display = 'none';
          document.getElementById("fiador").value = datos.id;
          document.getElementById("fiador_nombre").value =  datos.fiador_obligado == "Obligado Solidario Persona Fisica" ? `${datos.n_fiador} ${datos.a_fiador} ${datos.a2_fiador}` : `${datos.nombre_comercial}`;
      }
    
    comp_dom = datos.archivos[0].Comp_dom
    document.getElementById("link_cd").href = comp_dom;
    document.getElementById("frame_cd").src = comp_dom;
  
    ine= datos.archivos[0].Ine
    document.getElementById("link_ine").href = ine;
    document.getElementById("frame_ine").src = ine;

  //OPCIONALES
    if(datos.archivos[0].Estado_cuenta){
      ec = datos.archivos[0].Estado_cuenta
      document.getElementById("link_ingresos").href = ec;
      document.getElementById("frame_ingresos").src = ec;
    }
    
    if(datos.archivos[0].Escrituras){
      escri = datos.archivos[0].Escrituras
      document.getElementById("link_escrituras").href = escri;
      document.getElementById("frame_escrituras").src = escri;
    }
    
   /* var historial_predial = `
                            <button type="button" class="btn btn-success px-3 align-self-center" id="ver_historial_predial" title="Ver historial" data-bs-toggle="tooltip" onclick="ver_historial('${datos.inquilino[0].id}', 'predial')">
                                <i class="fas fa-eye text-white" aria-hidden="true"></i>
                            </button> 
                            `;

    var rfcElement = document.getElementById("Rfc");
    rfcElement.insertAdjacentHTML("beforebegin", historial_predial);*/
} 


function enviar_datos(formulario){
  var datos = JSON.parse( localStorage.getItem('data_fiador'))
  var cd = document.getElementById("Comp_dom")
  var i = document.getElementById("Ine")
  var ec = document.getElementById("Estado_cuenta")

  var escritura = document.getElementById("Escrituras")
  id = datos.archivos[0].id

  // Actualizar un objeto
  //axios.put(`${server}/documentos_edit/${id}/`,formulario,configin) metodo for
  axios.put(`${server}/documentos_foo/${id}/`,formulario,configin) // update
  .then(response => {
    console.log(response.data);  // Imprimir los datos del objeto actualizado
    let respuesta = response.data
    let datos_nuevos = {}
    datos_nuevos = datos

    if(i.files.length == 1){
      console.log("ine")    
    ine_nueva = respuesta.Ine  
    datos_nuevos.archivos[0].Ine = ine_nueva
    console.log(ine)
    }

    if(cd.files.length == 1){
      console.log("Comprobante")    
      datos_nuevos.archivos[0].Comp_dom = respuesta.Comp_dom
      }
  
    if(ec.files.length == 1){
      console.log("ingresos o estado de cuenta")    
    datos_nuevos.archivos[0].Estado_cuenta = respuesta.Estado_cuenta
    }

    if(escritura.files.length == 1){
      console.log("Escrituras")    
    datos_nuevos.archivos[0].Escrituras = respuesta.Escrituras
    }


localStorage.setItem('data_fiador', JSON.stringify(datos_nuevos));
alerta();
  })
  .catch(error => {
    console.error(error);
  });
}
function alerta(){
  Swal.fire({
      title: 'Documentos actualizados',
      text: "Se actualizaron correctamente los archivos seleccionados",
      icon: 'success',
      reverseButtons: true,
      confirmButtonColor: '#3085d6',
      confirmButtonText: 'Ok'
  }).then((result) => {
  if (result.isConfirmed) {
      setTimeout(function(){
        location.reload()
      }, 1000);        
        }      
})}


function ver_historial(id, archivo){
    $.ajax({
        type: 'GET',
        url: `${server}/HistorialDocumentosArrendadorViewSet/${id}/`,
        //url: `http://127.0.0.1:8000/Inmuebles/`,
        headers: {'X-CSRFToken': csrftoken},
        mode: 'same-origin',
        processData: false,
        contentType: false,
        success: function(response) {
            console.log(response); // handle the response from the server
            var data = {
                    datos: JSON.stringify(response),
                    archivo: archivo
                };

            localStorage.setItem('historial', JSON.stringify(data));
            //window.location = `/editar_inmuebles/${slug}/`;
            window.location.href = `/historial/${archivo}/`
        },
        error: function(response) {
            console.log(response);
        }
    });

}
</script>
<script src="/static/assets/repositorios/loader.js"></script>
<script>
    document.getElementById("li2").onload = inicio()
    function inicio(){
         console.log("entro inicio")
        auten()
    }
</script>
{% endblock javascripts %}

