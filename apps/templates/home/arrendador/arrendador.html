{% extends "layouts/base.html" %}

{% block title %} Arrendador {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-TJBhM3a+gFk0v/CyrFbftZUyUag2pHzx3pZVmOyadJ+SKLfa+nZ/B9ghUzy9D0sfKGLD78dILzYgt63+zwafZQ==" crossorigin="anonymous" />
<link href="/static/assets/css/ms_arr.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<!-- Enlace al archivo CSS de Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="/static/assets/css/tabla.css">

<style>
.tamanio {
    width: 100px; /* Ajusta el valor según el tamaño deseado */
    height: 40px;
  }

.form-control {
  margin-bottom: 10px; /* Adds spacing between form controls */
}


label {
  font-weight: bold; /* Makes the label text bold */
  margin-bottom: 5px; /* Adds spacing below the label */
}
input[type="file"] {
  border: 1px solid #ccc; /* Adds a border to the file input */
  padding: 5px; /* Adds padding to the file input */
  background-color: #f9f9f9; /* Sets a background color for the file input */
}

.btn-danger {
  background-color: #dc3545; /* Establece un color de fondo rojo */
  color: #fff; /* Establece el color del texto en blanco */
  border: none; /* Quita el borde */
  padding: 8px 16px; /* Ajusta el relleno interno del botón */
  border-radius: 4px; /* Agrega esquinas redondeadas */
  font-weight: bold; /* Hace que el texto sea más audaz */
}

.btn-success {
  color: #fff; /* Establece el color del texto en blanco */
}

.btn-success:hover{
    color: white;
}

.btn-danger:hover {
  background-color: #c82333; /* Cambia el color de fondo en el hover */
}

.separacion {
    height: 0px; /* Ajusta la altura según tu preferencia */
    background-color: #eee; /* Color de fondo de la separación */
    margin-top: 7px; /* Espacio superior */
    margin-bottom: 7px; /* Espacio inferior */
}
.custom-modal-title {
  font-size: 18px;
  font-weight: bold;
  margin: 0;
}

.custom-close-button {
  font-size: 15px;
  margin-left: auto;
}

.validado_input {
  border-color: green; /* Cambia el color del borde cuando es válido */
  box-shadow: 0 0 5px green; /* Agrega una sombra verde cuando es válido */
}

.btn.btn-elegant {
  /* Estilos generales del botón */
  padding: 0.375rem 0.75rem;
  font-size: 1rem;
  line-height: 1.5;
  border-radius: 0.25rem;
  text-align: center;
  vertical-align: middle;
  cursor: pointer;
  user-select: none;
  background-color: transparent;
  border: 1px solid #17a2b8;
  color: #17a2b8;
}

.btn.btn-elegant:hover {
  /* Estilos al pasar el cursor por encima del botón */
  background-color: #17a2b8;
  color: #fff;
}

.btn.btn-elegant i {
  /* Estilos del icono dentro del botón */
  padding-right: 0.5rem;
}

{% comment %} Estilos de boton redondo 1 {% endcomment %}
.custom-btn {
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #0066cc;
  border: none;
  outline: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.custom-btn i {
  font-size: 17px;
  color: white;
}

.custom-btn:hover {
  background-color: #005cbf;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

.custom-btn::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 4px);
  left: 150%;
  transform: translateX(-50%);
  background-color: #003366;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  white-space: nowrap;
}

.custom-btn:hover::before {
  opacity: 1;
  visibility: visible;
}

{% comment %} Estilos de boton redondo 2 {% endcomment %}
#ver_documentos {
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 0; /* Anula el redondeado del botón */
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #003366; 
  //background-color: #3399ff;/* Color de fondo  azul*/
   //background-color: #66cc66;/* Color de fondo verde */
  border: none;
  outline: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
  border-radius: 4px;
}

#ver_documentos i {
  font-size: 17px;
  color: white;
}

#ver_documentos:hover {
   background-color: #003366; /* Color de fondo verde más oscuro al pasar el mouse */
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
}

#ver_documentos::before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 4px);
  left: 150%;
  transform: translateX(-50%);
  background-color:  #003366;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  white-space: nowrap;
}

#ver_documentos:hover::before {
  opacity: 1;
  visibility: visible;
}

     #redes_sociales {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0;
      margin: 4px;
    }
  
    #redes_sociales .list-inline-item {
      margin: 0;
      width: 100%;
      text-align: center;
    }
  
    #redes_sociales .btn {
      border-radius: 0;
      border: none;
      box-shadow: none;
      width: 100%;
    }
  
    #redes_sociales .btn:focus {
      box-shadow: none;
    }

    #redes_sociales ul {
      width: 100px; /* Ancho fijo para la lista */
      background-color: #f8f9fa; /* Color de fondo */
      padding: 10px;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

{% comment %} Clase loader {% endcomment %}

{% comment %} .loader {
    position: relative;
    width: 100px;
    height: 130px;
    background: #fff;
    border-radius: 4px;
  }
  .loader:before{
    content: '';
    position: absolute;
    width: 54px;
    height: 25px;
    left: 50%;
    top: 0;
    background-image:
    radial-gradient(ellipse at center, #0000 24%,#de3500 25%,#de3500 64%,#0000 65%),
    linear-gradient(to bottom, #0000 34%,#de3500 35%);
    background-size: 12px 12px , 100% auto;
    background-repeat: no-repeat;
    background-position: center top;
    transform: translate(-50% , -65%);
    box-shadow: 0 -3px rgba(0, 0, 0, 0.25) inset;
  }
 .loader:after{
    content: '';
    position: absolute;
    left: 50%;
    top: 20%;
    transform: translateX(-50%);
    width: 66%;
    height: 60%;
    background: linear-gradient(to bottom, #f79577 30%, #0000 31%);
    background-size: 100% 16px;
    animation: writeDown 2s ease-out infinite;
 }

 @keyframes writeDown {
    0% { height: 0%; opacity: 0;}
    20%{ height: 0%; opacity: 1;}
    80% { height: 65%; opacity: 1;}
    100% { height: 65%; opacity: 0;}
 }
      

.modal-body {
      height: 200px; /* Establece la altura deseada */
      }

.swal2-container {
  width: 400px !important; /* Ancho personalizado */
  height: calc(400px + 2rem) !important; /* Altura igual al ancho más el espacio de los márgenes */
  position: fixed !important; /* Posición fija para centrar en la ventana */
  top: 30% !important; /* Centrar verticalmente en la mitad de la ventana */
  left: 50% !important; /* Centrar horizontalmente en la mitad de la ventana */
  transform: translate(-50%, -50%) !important; /* Aplicar traslación para centrar */
  max-height: 80vh !important; /* Altura máxima del 80% de la ventana */
}



.modal-content {
  background: transparent;
  border: none;
  box-shadow: none;
}

.modal-body {
  padding: 0;
  background: transparent;
} {% endcomment %}


</style>
{% endblock stylesheets %}

{% block content %}

<div id="cargar_tabla" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4" style="background-color:#edede9;">
    <div class="d-block mb-4 mb-md-0" style="margin-left:10px">
        <h1 class="h1">Arrendador</h1>
        <p class="mb-0">Listado de Arrendadores</p>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" data-bs-toggle="modal" data-bs-target="#reg_arr">
            <svg class="icon icon-xs me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            Nuevo Arrendador
        </a>
    </div>
</div>
{% comment %} <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#loaderModal">
    Open Modal
  </button>
<!-- Modal de Bootstrap -->
<div class="modal" id="loaderModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body d-flex justify-content-center align-items-center">
          <span class="loader"></span>
        </div>
      </div>
    </div>
  </div> {% endcomment %}

<!-- Botón para abrir el modal -->

<div class="table-settings mt-2 mb-4">
  <div class="row justify-content-between align-items-center">
      <div class="col-9 col-lg-8 d-md-flex">
          <div class="input-group mt me-2 me-lg-3 fmxw-300">
              <span class="input-group-text">
                  <svg class="icon icon-xs" x-description="Heroicon name: solid/search" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                  </svg>
              </span>
              <input type="text" class="form-control" placeholder="Buscar por Nombre">
            </div>
            <select class="form-select fmxw-200 d-none d-md-inline" aria-label="Message select example 2">
                <option selected>Todos</option>
              <option value="1">Persona Física</option>
              <option value="1">Persona Moral</option>
              <option value="2">Inmobiliaria</option>
            </select>
        </div>
    </div>
</div>
<div class="card card-body shadow border-0 table-wrapper table-responsive"><!-- podemos agregar la clase => table-responsive-->
    <table class="table user-table table-hover align-items-center mb-5 tabla_datos" > <!--id="datatable"-->
        <thead>
            <tr >
                {% comment %} <th class="border-bottom"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th> {% endcomment %}
                <th class="border-bottom">ID</th>
                <th class="border-bottom">Nombre</th>						
                <th class="border-bottom">Fecha de Registro</th>
                <th class="border-bottom">Regimen Fiscal</th>
                <th class="border-bottom">Archivos</th>
                <th class="border-bottom">Estatus</th>
                <th class="border-bottom">Acción</th>
            </tr>
        </thead>
        <tbody style="overflow-x: hidden;" id="table_body">
            
        </tbody>
    </table>
    
</div>

<div class="position-fixed top-50 end-0 translate-middle-y">
    <ul class="list-inline flex-column" id="redes_sociales">
      <li class="list-inline-item">
        <a class="btn btn-primary" style="background-color: #3b5998; border-color: #3b5998;" href="#!" role="button">
          <i class="fab fa-facebook-f"></i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn btn-primary" style="background-color: #55acee; border-color: #55acee;" href="#!" role="button">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn btn-primary" style="background-color: #bf8040; border-color: #bf8040;" href="#!" role="button">
          <i class="fab fa-instagram"></i>
        </a>
      </li>
      <li class="list-inline-item">
        <a class="btn btn-danger" style="background-color: #ff0000; border-color: #ff0000;" href="#!" role="button">
          <i class="fab fa-youtube"></i>
        </a>
      </li>
      <li class="list-inline-item">
          <a class="btn btn-secondary" style="background-color: #000000; border-color: #000000;" href="https://www.tiktok.com/@arrendify" target="_blank" role="button">
            <i class="fab fa-tiktok" style="color: #ffffff;"></i>
          </a>
        </li>
    </ul>
  </div>


{% comment %} Modal Agregar archivos nuevo estilo {% endcomment %}
<div class="modal fade" id="archivos_arrendador" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" >
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="height:15px" id="exampleModalLabel">Archivos Arrendador</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" onclick="location.href='/arrendadores/';" aria-label="Close"></button>
            </div>
            <div class="modal-body bg-white" style="background:linear-gradient(0deg, #231942ff, #5e548eff, #9f86c0ff, #be95c4ff, #e0b1cbff);">
                <body>
                    <div class="bg-white">
                        <form id ="registro_archivos" class="formchido mt-4 needs-validation bg-white p-4" novalidate method="POST" enctype="multipart/form-data">
                            <h2 class="h5 mb-3 mt-4">Por Favor Adjunte Sus Documentos Escaneados.</h2>
                            <div class="row">
                                <hr class="hr" />
                                <div class="col border-end border-2">
                                    Nota: <strong><p>Todos los archivos deben de esta en formato .PDF </p></strong>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label>Arrendador: </label>
                                    <input id="id_arrendador" name="id_arrendador" type="text" style="display:none"  readonly>
                                    <input class="form-control-plaintext card shadow border-1 ps-1" id="arrendador_nombre" type="text"  readonly>
                                </div> 
                            </div> 
                            <hr class="hr" />
                            <div class="mb-3">
                                <label for="url_domicilio"><label class="obl">*</label>Comprobante Domicilio</label>
                                <input class="form-control" id="comp_dom" name="comp_dom" type="file" title="No mayor a 3 meses." data-bs-toggle="tooltip" data-bs-placement="top" accept="application/pdf" required>
                                <div class="invalid-feedback">
                                    Por favor ingresa un documento valido.
                                </div>
                                <div class="valid-feedback">
                                    Se ve bien!
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="url_situacion_fiscal" class="form-label"><label class="obl">*</label>Predial</label>
                                <input class="form-control"  id="predial" name="predial" type="file" accept="application/pdf" placeholder="URL" required>
                                <div class="invalid-feedback">
                                Por favor ingresa un documento valido.
                            </div>
                            <div class="valid-feedback">
                                    Se ve bien!
                            </div>
                            </div>
                            <div class="mb-3">
                                <label for="url_situacion_fiscal" class="form-label"><label class="obl">*</label>Escrituras</label>
                                <input class="form-control"  id="escrituras_titulo" name="escrituras_titulo" accept="application/pdf" type="file" placeholder="URL" required>
                                <div class="invalid-feedback">
                                Por favor ingresa un documento valido.
                            </div>
                            <div class="valid-feedback">
                                Se ve bien!
                            </div>
                            </div>
                            <div class="mb-3">
                                    <label for="url_situacion_fiscal" class="form-label"><label class="obl">*</label>INE</label>
                                    <input class="form-control"  id="ine" name="ine" type="file" placeholder="URL" accept="application/pdf" required>
                                    <div class="invalid-feedback">
                                        Por favor ingresa un documento valido.
                                    </div>
                                <div class="valid-feedback">
                                    Se ve bien!
                                </div>
                            </div>
                              {% csrf_token %}
                              <button type="submit" id="finalizar"  class="btn btn-primary">Subir Archivos</button>
                          </form>
                    </div>
                </body>
            </div>
        </div>
    </div>
</div>

{% comment %} -------------------------------------------------------------- {% endcomment %}
<!-- Modal -->
<div id="Modal Registro Arrendador ">
    <p id="carga_plantar" style="display:none;">
        <p id="carga_pfom" style="display:none;">
            <p id="carga_aa" style="display:none;">
    <div class="modal fade" id="reg_arr" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-white">
            <h5 class="modal-title" style="height:15px" id="exampleModalLabel">Registro Arrendador</h5>
            <button type="button" class="btn-close" onclick="location.href='/arrendadores/';" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
            <div class="modal-body" style="padding:0;">
    <div class="container">
        <div class="card">
            <form id="Formu" class="form needs-validation" novalidate> 
                {% csrf_token %}
                <div class="left-side">
                    <div class="left-heading">
                        <h3>Introduce la información Solicitada</h3>
                    </div>
                    <div class="steps-content" style="margin-bottom:-50px;">
                        <h3>Paso <span class="step-number">1</span></h3>
                    
                    </div>
                    <ul class="progress-bar" style="background:none;">
                        <li id="li1" class="active">Inicio</li>
                        <li id="li2">Paso 2</li>
                        <li id="li3">Paso 3</li>
                        <li id="li4">Paso 4</li>
                        <li id="li5">Paso 5</li>
                        <li id="li6">Paso 6</li>
                        <li id="li7">Paso 7</li>
                    </ul>
                </div>
                <div class="right-side">
                    <div id="step1" class="main active">
                        <small><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-buildings" viewBox="0 0 16 16">
                            <path d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022ZM6 8.694 1 10.36V15h5V8.694ZM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15Z"/>
                            <path d="M2 11h1v1H2v-1Zm2 0h1v1H4v-1Zm-2 2h1v1H2v-1Zm2 0h1v1H4v-1Zm4-4h1v1H8V9Zm2 0h1v1h-1V9Zm-2 2h1v1H8v-1Zm2 0h1v1h-1v-1Zm2-2h1v1h-1V9Zm0 2h1v1h-1v-1ZM8 7h1v1H8V7Zm2 0h1v1h-1V7Zm2 0h1v1h-1V7ZM8 5h1v1H8V5Zm2 0h1v1h-1V5Zm2 0h1v1h-1V5Zm0-2h1v1h-1V3Z"/>
                          </svg></small>
                          <div class="text">
                            <h2 id="dio">Datos Inmobiliaria/Persona</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                        </div>
                        <label>¿Régimen o Inmobiliaria?<label class="obl">*</label></label>
                        <div class="input-div">
                             <select class="form-select" id="pmoi" onChange="init()" oninput="prueba2(this)" name="pmoi" aria-label="Default select example" required>
                                <option id="opt" selected  value="">Selecciona un opción</option>
                                <option value="Persona Fisica">Persona Física</option>
                                <option value="Persona Moral">Persona Moral</option>
                                <option value="Inmobiliaria">Inmobiliaria</option>
                            </select>
                        </div>                        
                        <hr class="hr"/>
                        <div id="persona_moral_registro_1" class="needs-validation" style="Display:none;">
                            <div class="input-text" id="div_dir_ac">
                                <div class="input-div">
                                    <input type="text" name="dir_ac" id="dir_ac" oninput="prueba2(this)"> 
                                    <span>Dirección Registrada en el acta constitutiva:</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" class="form-control m-1" name="nombre" id="nombre" oninput="prueba2(this)" required require>
                                    <span>Nombre(s)<label class="obl">*</label><span>
                                    <div class="invalid-feedback">
                                        Ingresa un nombre valido
                                    </div>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" class="form-control m-1" name="apellido" id="apellido" oninput="prueba2(this)" required require>
                                    <span>Apellido Paterno<label class="obl">*</label></span>
                                    <div class="invalid-feedback">
                                        Ingresa un apellido valido
                                    </div>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" class="form-control m-1" name="apellido1" id="apellido1" oninput="prueba2(this)" required require>
                                    <span>Apellido Materno<label class="obl">*</label></span>
                                    <div class="invalid-feedback">
                                        Ingresa un apellido valido
                                    </div>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="rfc" name="rfc" class="m-1" required maxlength="13" style="text-transform:uppercase" oninput="prueba2(this)" onkeyup="javascript:this.value=this.value.toUpperCase();" require>
                                    <span>RFC<label class="obl">*</label></span>
                                    <div class="invalid-feedback">
                                        Por favor ingrese un RFC de 12 o 13 dígitos
                                    </div>
                                </div>
                                <div class="input-div">
                                    {% comment %} <span>Estado Civil</span> {% endcomment %}
                                    <select class="form-select m-1" id="estado_civil" onChange="mostrarOnChange()" oninput="prueba2(this)" placeholder="estado_civil" name="estado_civil" aria-label="Default select example" require required>
                                        <option selected disabled  value="">Estado Civil</option>
                                        <option value="Soltero">Soltero(a)</option>
                                        <option value="Casado">Casado(a)</option>
                                        <option value="Viudo">Viudo(a)</option>
                                        <option value="Bienes Mancomunados">Bienes Mancomunados</option>
                                        <option value="Bienes Separados">Bienes Separados</option>
                                        <option value="Union Libre">Unión Libre</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Selecciona una opción
                                    </div>
                                </div> 
                            </div>
                            <div class="row" id="datcon" style="Display:none;" >
                                <div class="input-text">
                                    <div class="input-div">
                                        <input type="text" id="n_conyuge" name="n_conyuge" oninput="prueba2(this)" >
                                        <span>Nombre(s) Cónyuge<label class="obl">*</label></span>
                                    </div>
                                    <div class="input-div"> 
                                        <input type="text" id="a_conyuge" name="a_conyuge" oninput="prueba2(this)" >
                                        <span>Apellido Paterno Cónyuge<label class="obl">*</label></span>
                                    </div>
                                    <div class="input-div"> 
                                        <input type="text" id="a1_conyuge" name="a1_conyuge" oninput="prueba2(this)">
                                        <span>Apellido Materno Conyuge<label class="obl">*</label></span>
                                    </div>
                                </div>
                            </div> 
                            <div class="input-text" style="margin-top:-5px;">
                                <div class="input-div"> 
                                    <input class="form-control m-1" name="numeroTel" id="numeroTel" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" required>
                                    <span>Número Telefónico Fijo<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input type="text" class="form-control m-1" required id="email" name="email" oninput="javascript: prueba2(this);" require>
                                    <div class="invalid-feedback">
                                        Por favor ingrese un email correcto
                                    </div>
                                    <span>E-mail<label class="obl">*</label></span>
                                    {% comment %} <div class="input-div"> 
                                        <input type="text" id="email" name="email" oninput="javascript: prueba2(this);" require>
                                        <span>E-mail</span>
                                        <div class="invalid-feedback">
                                            Por favor ingrese un email correcto
                                        </div>
                                    </div> {% endcomment %}
                                </div>    
                            </div>    
                            <div id="div_tel" style="margin-top:-30px;">                             
                                <div  class="input-text" >
                                    <div class="input-div">
                                        <span style="font-size:10px; font-weight:bold;">Celular</span>
                                    </div>
                                </div>     
                                <div>
                                    <input class="form-control"  id="numeroTel1" type="tel" name="numeroTel1" oninput="javascript:this.value = this.value.replace(/[^0-9,+]/g, '');prueba2(this);process(event);" placeholder="" />
                                </div> 
                            </div>  
                            <div class="buttons mt-3">
                                <input class="btn btn-primary next_button" type="button" id="next1" name ="boton_next1" onClick="validarEstadoCivil()" onClick="recopilar()" value="Siguiente" >
                            </div>
                        </div>
                       
                        <div id="eres_in" style="display:none;">
                            <div class="input-div">
                                <div class="input-div">
                                    <span>Nombre De La Inmobiliaria<label class="obl">*</label></span>
                                    <input type="text" class="form-control" name="n_inmobiliaria" id="n_inmobiliaria" oninput="prueba2(this)" require required>
                                </div>
                            </div>
                            <div class="input-div">
                                <div class="input-div">
                                    <span>Nombre Del Agente<label class="obl">*</label></span>
                                    <input type="text" name="per_sol" id="per_sol" oninput="prueba2(this)" require required>
                                </div>
                            </div>
                            <hr class="hr"/>    
                            <div class="input-text">
                                <div class="input-div">
                                    <input class="form-control" name="tel" id="tel" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require required>
                                    <span>Tel<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input type="text" id="email_in" name="email_in" type="email" oninput="javascript: prueba2(this);" require required>
                                    <span>E-mail<label class="obl">*</label></span>
                                    <div class="invalid-feedback">
                                        Por favor ingrese un email correcto
                                    </div>
                                </div>
                            </div> 
                            <div id="div_tel" style="margin-top:-30px;">                             
                                <div class="input-text" >
                                    <div class="input-div">
                                        <span style="font-size:10px; font-weight:bold;">Celular<label class="obl">*</label></span>
                                    </div>
                                </div>     
                                <div>
                                    <input class="form-control" name="cel" id="cel" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);process(event);" type="tel" placeholder="" />
                                </div> 
                            </div>  
                            
                            <div class="buttons mt-3">
                                <input class="btn btn-primary next_button" type="button" id="next1" name="next1_inmuebles" onClick="recopilar()" value="Siguiente" >
                            </div>
                        </div> 
                    </div>
                    
                    <div id="step2" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-briefcase-fill" viewBox="0 0 16 16">
                                <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                            </svg>
                        </small>
                        
                    <div id="ddp" style="display:none;">
                        <div class="text">
                            <h2 id="tdde">Datos Del Propietario</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                        </div>
                        <div class="input-div">
                             <h2 class="h5 mb-2">Documentación De Identificación Presentada:</h2>
                            <div class="input-div">
                                <select class="form-select"id="doc" name="doc" aria-label="Default select example" require oninput="prueba2(this)" >
                                    <option hidden selected>Selecciona un opción</option>
                                    <option value="INE">Credencial para votar </option>
                                    <option value="Pasaporte">Pasaporte</option>
                                    <option value="Cédula Profesional">Cédula profesional</option>
                                    <option value="Cartilla Militar">Cartilla del Servicio Militar Nacional</option>
                                    <option value="Licencia De Condicir">Licencia De Conducir</option>
                                    <option value="Credencial De Residencia Temporal">Credencial De Residencia Temporal</option>
                                    <option value="Credencial De Residencia Permanente">Credencial De Residencia Permanente</option>
                                    <option value="Credencial Adultos Mayores">Credencial Del Instituto Nacional De las Personas Adultas Mayores</option>
                                    <option value="Certificado de Matricula Consular">Certificado de Matricula Consular</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="n_propietario" name="n_propietario" oninput="prueba2(this)" require required>
                                <span>Nombre del propietario</span>
                            </div>
                            <div class="input-div">
                                <input type="text" maxlength="13" id="rfc_propietario" name="rfc_propietario" style="text-transform:uppercase" oninput="prueba2(this)" onkeyup="javascript:this.value=this.value.toUpperCase();" require required>
                                <span>RFC</span>
                                
                            </div>
                        </div>
                        <div class="input-text" style="margin-top:-15px">
                            <div class="input-div">
                                <label>Estado Civil:</label>
                                <select class="form-select" id="ecp"  name="ecp" aria-label="Default select example" required oninput="prueba2(this)">
                                    <option selected>Selecciona un opción</option>
                                    <option value="Soltero">Soltero(a)</option>
                                    <option value="Casado">Casado(a)</option>
                                    <option value="Viudo">Viudo(a)</option>
                                    <option value="Bienes Mancomunados">Bienes Mancomunados</option>
                                    <option value="Bienes Separados">Bienes Separados</option>
                                    <option value="Union Libre">Unión Libre</option>
                                </select>
                            </div>
                        </div>  
                    </div>

                    <div id="step2-pm" style="display:none;">
                        <div class="text">
                            <h2>Datos Domiciliarios</h2>
                            <p>Por favor introduce tus datos Domiciliarios.</p>
                            <p>Nota: La dirección para notificaciones debe ser diferente a la del inmueble a ser arrendado.</p>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input class="form-control" type="text" id="calle" name="calle" oninput="prueba2(this)"require required>
                                <span>Calle<label class="obl">*</label></span>
                                <div class="invalid-feedback">
                                    Ingresa una calle por favor
                                </div>
                            </div>
                            <div class="input-div">
                                <input class="form-control" required type="number" id="num_ext" name="num_ext" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                <span>Número Ext. <label class="obl">*</label></span>
                                <div class="invalid-feedback">
                                    Ingresa un numero exterior
                                </div>
                            </div>
                            <div class="input-div">
                                <input class="form-control" required type="number" id="num_int" name="num_int" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" >
                                <span>Número Int. </span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div"> 
                                <input class="form-control" type="text"id="colonia" name="colonia" oninput="prueba2(this)" require required>
                                <span>Colonia<label class="obl">*</label></span>
                            </div>
                           
                            <div class="input-div"> 
                                <input class="form-control" required id="codigopostal" name="codigopostal" type="tel" maxlength="5"  oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                <span>Código Postal<label class="obl">*</label></span>
                            </div>
                            <div class="input-div"> 
                                <input type="text" id="municipio_alcaldia" name="municipio_alcaldia" oninput="prueba2(this)" require required>
                                <span>Municipio/Alcaldía<label class="obl">*</label></span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div"> 
                               <div class="input-div"> 
                                <input type="text" class="form-control" id="estado" name="estado" oninput="prueba2(this)" require required>
                                <span>Estado/Ciudad<label class="obl">*</label></span>
                            </div>
                            </div>
                            <div class="input-div">
                                <input id="referencias" name="referencias" type="text" oninput="prueba2(this)" require>
                                <span>Referencias<label class="obl">*</label></span>
                            </div>
                        </div>
                    </div>

                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atrás</button>
                            <input class="btn btn-primary next_button" type="button" value="Siguiente">
                        </div>
                    </div>
                    
                    <div id="step3" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-building-fill-check" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514Z"/>
                                <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7.256A4.493 4.493 0 0 0 12.5 8a4.493 4.493 0 0 0-3.59 1.787A.498.498 0 0 0 9 9.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .39-.187A4.476 4.476 0 0 0 8.027 12H6.5a.5.5 0 0 0-.5.5V16H3a1 1 0 0 1-1-1V1Zm2 1.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3 0v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1ZM4 5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm2.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"/>
                            </svg>
                        </small>

                    <div id="dom_part" style="Display:none;">
                        <div class="text" id="dir_emp2">
                            <h2>Domicilio Particular</h2>
                            <p>Nota: La dirección para notificaciones debe ser diferente a la del inmueble a ser arrendado.</p>
                        </div>
                        <div id="domicilio_particular">
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="calle_prop" name="calle_prop" oninput="prueba2(this)" require>
                                    <span>Calle<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="number" id="num_ext_prop" name="num_ext_prop" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Número Ext. <label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="number" id="num_int_prop" name="num_int_prop" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Número Int. <label class="obl">*</label></span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input id="colonia_prop" name="colonia_prop" type="text" oninput="prueba2(this)" require>
                                    <span>Colonia<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="tel" id="codigo_postal_prop" name="codigo_postal_prop"  maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Código Postal<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" id="municipio_prop" name="municipio_prop" oninput="prueba2(this)" require>
                                    <span>Municipio/Alcaldía<label class="obl">*</label></span>
                                </div>
                            </div>
                            <div class="input-text">
                               
                             <div class="input-div">
                                    <input id="estado_prop" name="estado_prop" type="text" oninput="prueba2(this)" require>
                                    <span>Estado/Ciudad<label class="obl">*</label></span>
                                </div>
                            </div>
                        </div>
                    
                    </div>
                    <div id="act_con" style="Display:none;">
                        <div class="text">
                            <h2 id="nomac">Acta Constitutiva</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                        </div>
                        <div class="input-text">
                            <div class="input-div"> 
                                <input type="text" id="empresa_constituida" name="empresa_constituida" oninput="prueba2(this)" require required>
                                <span id ="nec">Nombre Empresa Constituida<label class="obl">*</label></span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" required type="number" id="escritura_numero_ac" name="escritura_numero_ac" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                <span>Escritura Número<label class="obl">*</label></span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <label class="form-check-label" for="fecha_ac">Fecha<label class="obl">*</label></label> 
                                <input class="form-control" type="date" id="fecha_ac" name="fecha_ac" oninput="prueba2(this)" require required placeholder="">  
                                {% comment %} <span>Fecha</span> {% endcomment %}
                                {% comment %} <span>Fecha</span> {% endcomment %}
                                
                            </div>
                            <div class="input-div">
                                <label class="form-check-label" for="nombre_notario_ac">Nombre de Notario<label class="obl">*</label></label> 
                                <input type="text" required id="nombre_notario_ac" name="nombre_notario_ac" oninput="prueba2(this)" require>
                                {% comment %} <span>Nombre de Notario</span> {% endcomment %}
                            </div>
                        </div>
                        
                        <div class="input-text">
                            <div class="input-div" style="position: relative; bottom: 23px;">
                                <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">Estado<label class="obl">*</label></label>
                                <select class="form-select LetraSelect" id="coe" name="coe" aria-label="Floating label select example" require oninput="prueba2(this)" >
                                    <option value="CDMX" selected>CDMX</option>
                                    <option value="México">México</option>
                                    <option value="Aguascalientes" > Aguascalientes</option>
                                    <option value="Baja California"> Baja California</option>
                                    <option value="Baja California Sur"> Baja California Sur</option>
                                    <option value="Campeche"> Campeche</option>
                                    <option value="Coahuila"> Coahuila</option>
                                    <option value="Colima"> Colima</option>
                                    <option value="Chiapas"> Chiapas</option>
                                    <option value="Chihuahua"> Chihuahua</option>
                                    <option value="Durango"> Durango</option>
                                    <option value="Guanajuato"> Guanajuato</option>
                                    <option value="Guerrero"> Guerrero</option>
                                    <option value="Hidalgo"> Hidalgo</option>
                                    <option value="Jalisco"> Jalisco</option>
                                    <option value="Michoacán"> Michoacán</option>
                                    <option value="Morelos"> Morelos</option>
                                    <option value="Nayarit"> Nayarit</option>
                                    <option value="Nuevo León"> Nuevo León</option>
                                    <option value="Oaxaca"> Oaxaca</option>
                                    <option value="Puebla"> Puebla</option>
                                    <option value="Querétaro"> Querétaro</option>
                                    <option value="Quintana Roo"> Quintana Roo</option>
                                    <option value="San Luis Potosí"> San Luis Potosí</option>
                                    <option value="Sinaloa"> Sinaloa</option>
                                    <option value="Sonora"> Sonora</option>
                                    <option value="Tabasco"> Tabasco</option>
                                    <option value="Tamaulipas"> Tamaulipas</option>
                                    <option value="Tlaxcala"> Tlaxcala</option>
                                    <option value="Veracruz"> Veracruz</option>
                                    <option value="Yucatán"> Yucatán</option>
                                    <option value="Zacatecas"> Zacatecas</option>
                                </select>                                            
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" type="number" id="folio_mercantil" name="folio_mercantil" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" required require>
                                <span>Folio Mercantil<label class="obl">*</label></span>
                            </div>
                        </div>
                    </div> 
                       
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atrás</button>
                            <input class="btn btn-primary next_button" type="button" value="Siguiente">
                        </div>
                    </div>
                    
                    {% comment %} referencias del Arrendatario {% endcomment %}
                    <div id="step4" class="main">
                        <small>
                            <img src="/static/assets/img/icons/aa.png" style="width:25px; height:25px;" alt="icon">
                        </small>


                        <div id="contacto" style="Display:none;">
                            <div id ="div_contacto">
                                <div class="text">
                                    <h2>Contacto</h2>
                                    <p>Por favor introduce tus datos de contacto.</p>
                                </div>
                                <div class="input-text">
                                    <div class="input-div"> 
                                        <input class="form-control" id="tel_arr" name="tel_arr" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                        <span>Teléfono<label class="obl">*</label></span>
                                    </div>
                                    <div class="input-div"> 
                                        <input class="form-control" id="cel_arr" name="cel_arr" type="tel" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" maxlength="10" require>
                                        <span>Celular<label class="obl">*</label></span>
                                    </div>
                                </div>
                            
                                <div class="input-text">
                                    <div class="input-div">
                                        {% comment %} <input class="form-control" type="email" id="email_arr" name="email_arr" oninput="javascript: prueba2(this);" require>
                                        <span>Email</span>
                                        <div class="invalid-feedback">
                                            Ingresa un nombre valido
                                        </div> {% endcomment %}
                                        <input type="text" id="email_arr" name="email_arr" type="email" oninput="javascript: prueba2(this);" require required>
                                    <span>E-mail<label class="obl">*</label></span>
                                    <div class="invalid-feedback">
                                        Por favor ingrese un email correcto
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="text" id="renta">
                                <h2>Renta</h2>
                                <p>Por favor introduce tus datos de bancarios en caso de deposito.</p>
                            </div>
                            <hr class="hr" />  
                            <h5>Pago De Renta </h5>
                            <hr class="hr" />  
                            <div class="input-text">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="tipo_pago" id="Efectivo" onChange="depo(this)" oninput="prueba2(this)" value="Efectivo" />
                                    <label class="form-check-label" for="inlineRadio1" style="font-weight: bold;">Efectivo</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="tipo_pago" id="Deposito" onChange="depo(this)"  oninput="prueba2(this)" value="Deposito" />
                                    <label class="form-check-label" for="inlineRadio2" style="font-weight: bold;">Deposito</label>
                                </div>
                            </div>
                            <div id="depositos" style="display:none;">
                                <p>Datos bancarios en caso de Deposito <p>
                                <div  class="input-text">
                                    <div class="input-div">
                                        <input type="text" id="banco" name="banco" >
                                        <span>Banco<label class="obl">*</label></span>
                                    </div>
                                    <div class="input-div"> 
                                        <input id="titular" name="titular" type="text"  >
                                        <span>Nombre Titular<label class="obl">*</label></span>
                                    </div>
                                </div>
                                <div class="input-text">
                                    <div class="input-div"> 
                                        <input class="form-control" id="no_cuenta" name="no_cuenta" type="number" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" maxlength="10"  >
                                        <span>No. Cuenta<label class="obl">*</label></span>
                                    </div>
                                    <div class="input-div"> 
                                        <input class="form-control" id="clabe" name="clabe" type="tel" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" maxlength="16"  >
                                        <span>Clave<label class="obl">*</label></span>
                                    </div>
                                </div>
                            </div>
                        </div> 
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atrás</button>
                            <input class="btn btn-primary next_button" type="button" value="Siguiente" name="next3_inmobiliaria">
                        </div>
                    </div>

                    <div id="step6" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-calendar-check" viewBox="0 0 16 16">
                                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                              </svg>
                        </small>
                        <div class="text">
                            <h2>Observaciones</h2>
                        </div>
                        <span>Comenta tus Observaciones</span>
                        <div class="input-text">
                            <textarea class="form-control" placeholder="..." id="textarea" name="observaciones" rows="6" oninput="prueba2(this)"></textarea>
                        </div>
                        <hr class="hr" />
                        <div class="buttons button_space mt-4">
                            <button type="button" class="btn btn-outline-dark back_button">Atrás</button>
                            <button class="submit_button next_button" onClick="recopilar()" id="finalizar1" type="submit" >Finalizar</button>
                        </div>
                    </div>

                    <div class="main">
                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                        
                        <div class="text congrats">
                            <h2>¡Listo!</h2>
                            <p>Gracias Sr./Sra. <span class="shown_name"></span>  {{ request.user.first_name }} su información se ha enviado con éxito para futuras referencias.</p> <strong>Pronto nos pondremos en contacto con usted. </strong>
                        </div>
                        <div class="mt-4"> 
                                <img class="deslizar" src="/static/assets/img/brand/candado.svg" style="width:120px; height:120px;" alt="icon">   
                            </div>
                        <div style="" class="message">Cargando Datos...</div>
                    </div>

                </div>
            </form>
        </div>
    <!-- End of Modal -->
        </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End of Modal2 -->

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %} 
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="/static/assets/js/ms_arr.js"></script>
<script src="/static/assets/js/phone.js"></script>
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css"/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    function fin()
{
    localStorage.removeItem('datos');
}
    



    const phoneInputField = document.querySelector("#numeroTel1");
    const phoneInput = window.intlTelInput(phoneInputField, {
        preferredCountries: ["mx", "co", "ar", "es" , "ca" , "us" , "cn"],
        utilsScript:
        "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });
    const celInputField = document.querySelector("#cel");
    const celInput = window.intlTelInput(celInputField, {
        preferredCountries: ["mx", "co", "ar", "es" , "ca" , "us" , "cn"],
        utilsScript:
          "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
      });
    function process(event) {
      event.preventDefault();

      const phoneNumber = phoneInput.getNumber();
      phoneInputField.value = phoneNumber;
      const celNumber = celInput.getNumber();
      celInputField.value = celNumber;
      console.log(phoneNumber)
      console.log(celNumber)
      

    }
</script>
<script>
    $(function () {
        $("form").keypress(function (e) {
            var key;
            if (window.event)
                key = window.event.keyCode; //IE
            else
                key = e.which; //firefox     
            return (key != 13);
        });
    });
</script>
<script>

    var fm = document.getElementById("Formu")
    fm.reset();

  // Set the selected property to true
    var option2 = document.getElementById("pmoi");

  // Set the selected property to true
    option2.selected ='Persona Fisica';


    function cambio_status(dato){
      
        if (dato.value == "En espera"){
            console.log("datos en verde", dato)
            dato.style.color= "orange"
        }
        if (dato.value == "Rechazado"){
            console.log("en espera pa")
            dato.style.color= "red"
        }
        if (dato.value == "Activo"){
            console.log("en espera pa")
            dato.style.color= "green"
        }

    }

 // variables globales    
const arr ={};
document.getElementById("carga_plantar").onload = plantar();
//document.getElementById("carga_pfom").onload = inquilinos()
//document.getElementById("carga_aa").onload = fecha()

function init()  {
    console.log("Esta entrando a init")
    var div1 = document.getElementById("pmoi")
        console.log(div1.value)
        switch (div1.value)
        {
          case "Persona Fisica":
          //Se oculta persona moral e inquilino
          $( "#eres_in" ).fadeOut( "fast" ); //Eres Inmobiliaria
          $( "#persona_moral_registro_1" ).fadeOut( "fast" ); //Eres persona moral
          console.log("persona fisica");
          document.getElementById("div_dir_ac").style.display='none';
          document.getElementById("step2-pm").style.display = "";
          document.getElementById("act_con").style.display = "";
          document.getElementById("contacto").style.display = "";
          document.getElementById("renta").style.display = "";
            var nombre = document.getElementById('nombre');
            nombre.setAttribute('require', true);  
            //document.getElementById('nombre').require = true;
        
          //STEPS
          document.getElementById("nomac").textContent = "Datos Escritura";
          document.getElementById("nec").textContent = "Razon Social";
          document.getElementById("dio").textContent = "Datos Persona Física";
          document.getElementById("li1").textContent = "Información PF";
          document.getElementById("li2").textContent = "Datos Domicilio";
          document.getElementById("li3").textContent = "Escrituras";
          document.getElementById("li4").textContent = "Pago";
          document.getElementById("li5").textContent = "Datos Inicio";
          document.getElementById("li6").textContent = "Observaciones";
          document.getElementById("li7").textContent = "Final";

          //OCULATACION Inmobiliaria y pf
          document.getElementById("eres_in").style.display = "none";
          document.getElementById("div_contacto").style.display = "none";
          document.getElementById("ddp").style.display = "none";
          document.getElementById("dom_part").style.display = "none";

          // diables
          
          var des = document.getElementById("eres_in").getElementsByTagName('*');
          for (var node of des) {
              node.disabled = true;
              node.removeAttribute("require");
          }
          var des = document.getElementById("ddp").getElementsByTagName('*');
          for (var node of des) {
              node.disabled = true;
              node.removeAttribute("require");
          }
          var des = document.getElementById("dom_part").getElementsByTagName('*');
          for (var node of des) {
              node.disabled = true;
              node.removeAttribute("require");
          }

          var des = document.getElementById("div_contacto").getElementsByTagName('*');
          for (var node of des) {
              node.disabled = true;
              node.removeAttribute("require");
          }
            var des = document.getElementById("persona_moral_registro_1").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled");
                node.setAttribute('require', true);  
            }
            var des = document.getElementById("step2-pm").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("act_con").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
          $("#dir_ac").removeAttr("require");

          $( "#persona_moral_registro_1" ).fadeIn( "fast" );
          break;
            
          case "Persona Moral":
            $( "#eres_in" ).fadeOut( "fast" );
            $( "#persona_moral_registro_1" ).fadeOut( "fast" );
            console.log("persona moral");
            var dir_ac = document.getElementById('dir_ac');
            dir_ac.setAttribute('require', true); 

            document.getElementById("div_dir_ac").style.display='';
            document.getElementById("step2-pm").style.display = "";
            document.getElementById("act_con").style.display = "";
            document.getElementById("contacto").style.display = "";
            document.getElementById("renta").style.display = "";
            
            //STEPS
            document.getElementById("dio").textContent = "Datos Persona Moral";
            document.getElementById("li1").textContent = "Información PM";
            document.getElementById("li2").textContent = "Datos Domicilio";
            document.getElementById("li3").textContent = "Acta Constitutiva";
            document.getElementById("li4").textContent = "Pago";
            document.getElementById("li5").textContent = "Datos Inicio";
            document.getElementById("li6").textContent = "Observaciones";
            document.getElementById("li7").textContent = "Final";

            //OCULATACION Inmobiliaria y pf
            document.getElementById("eres_in").style.display = "none";
            document.getElementById("ddp").style.display = "none";
            document.getElementById("dom_part").style.display = "none";
            document.getElementById("div_contacto").style.display = "none";
           
            // diables
            var des = document.getElementById("datcon").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("require");}


            var desa = document.getElementById("div_dir_ac");
            desa.removeAttribute("require");
            var des = document.getElementById("eres_in").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
              
            }
            var des = document.getElementById("ddp").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
               
            }
            var des = document.getElementById("dom_part").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
             
            }
            var des = document.getElementById("div_contacto").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
            }
            var des = document.getElementById("persona_moral_registro_1").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("step2-pm").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("step2-pm").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("act_con").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            
            
            $( "#persona_moral_registro_1" ).fadeIn( "fast" );
          break;
          
          case "Inmobiliaria":
            $( "#persona_moral_registro_1" ).fadeOut( "fast" );
            $( "#eres_in" ).fadeOut( "fast" );
            console.log("Inmobiliaria")
            document.getElementById("ddp").style.display = "";
            document.getElementById("dom_part").style.display = "";
            document.getElementById("contacto").style.display = "";

            // steps
            document.getElementById("dio").textContent = "Datos Inmobiliaria";
            document.getElementById("li1").textContent = "Información Inmobiliaria";
            document.getElementById("li2").textContent = "Propietario";
            document.getElementById("li3").textContent = "Domicilio";
            document.getElementById("li4").textContent = "Contacto y extras";
            document.getElementById("li5").textContent = "Datos Inicio";
            document.getElementById("li6").textContent = "Observaciones";
            document.getElementById("li7").textContent = "Final";

            //OCULATACION PM
            document.getElementById("persona_moral_registro_1").style.display = "none";
            document.getElementById("step2-pm").style.display = "none";
            document.getElementById("act_con").style.display = "none";
            document.getElementById("renta").style.display = "none";
            
            var des = document.getElementById("eres_in").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled"); 
                            node.setAttribute('require', true);  
            
            }
            /* quitar el disabled
            var des = document.getElementById("eres_in").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled");             
            }
    
            var des = document.getElementById("ddp").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("dom_part").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("contacto").getElementsByTagName('*');
            for (var node of des) {
                node.removeAttribute("disabled");*/

            //disables
            var desa = document.getElementById("div_dir_ac");
            desa.removeAttribute("require");
            
            var des = document.getElementById("persona_moral_registro_1").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
            }
            var des = document.getElementById("step2-pm").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
            }
    
            var des = document.getElementById("act_con").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
            }
        
    
            var des = document.getElementById("renta").getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("require");
            }
            var des = document.getElementById("ddp").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
            }
            var des = document.getElementById("domicilio_particular").getElementsByTagName('*')
            for (var node of des) {
                node.removeAttribute("disabled");
                node.setAttribute("require", true)
            }
            
            $( "#eres_in" ).fadeIn( "fast" );
          break;
        }
}

function depo(radio) {
    var dep = document.getElementById("depositos");
   
//   console.log(radio.value)
  console.log(radio.id)
 
     if(radio.id=="Deposito") {
          dep.style.display='';
          
         
      }
      else{
          dep.style.display='none'
           }
     }


function recopilar()
{
// Obtener y Guardar el valor del input en localStorage
console.log("estoy en guardar",JSON.stringify(arr))
localStorage.setItem('datos', JSON.stringify(arr));
}

function plantar()
{
    //var option = document.getElementById("opt");
    //option.selected = true;
    
    const storedData = JSON.parse(localStorage.getItem('datos'));
    var k1 = Object.getOwnPropertyNames(storedData);
    console.log("soy k1",k1)
    for(let i= 0; i<k1.length;i++)
    {
        let k2 = document.getElementsByName(k1[i]);
        k2[0].value =  storedData[k1[i]];
        //console.log("soy k2",k2[0]);
    }
}

function prueba2(val){
    console.log(val.name)
    arr[""+val.name] = '' +val.value
    console.log(arr)
}

function mostrarOnChange() {
    console.log("hola")
            sel = document.getElementById("estado_civil");
            divC = document.getElementById("datcon");
    
            if (sel.value=="Casado") {
                console.log(sel);
                 divC.style.display = '';
                var des = document.getElementById("datcon").getElementsByTagName('*')
                for (var node of des) {
                    node.setAttribute("require",true);
                }
                 
            }
            else {
                 divC.style.display='none';
                var des = document.getElementById("datcon").getElementsByTagName('*')
                for (var node of des) {
                    node.removeAttribute("require");
            }
      
            }
      }
</script>

{% comment %} <script src="/static/assets/js/ms.js"></script> {% endcomment %}
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>

function eliminarArrendador_(inquilino){
        console.log("soy el inquilino",inquilino)
        Swal.fire({
            title: '¿Éstas seguro?',
            text: "No podrás revertir esta acción",
            icon: 'warning',
            reverseButtons: true,
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, elimina esto',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
        if (result.isConfirmed) {
            setTimeout(function(){
                console.log("Hola Mundo");
                eliminarArrendador(inquilino)
            }, 1500);
                Swal.fire({
                    icon: 'success',
                    title: '¡Arrendador Eliminado!',
                    text: 'Se ha eliminando de forma exitosa.',
                    showConfirmButton: false,
                    timer: 1500
                })
                //.then(()=>{
                //    location.reload();
                //})
            }
        })
    }
        function alert1(){
            const swalWithBootstrapButtons = Swal.mixin({customClass: {
                confirmButton: 'btn btn-success ms-3',
                cancelButton: 'btn btn-danger me-3'
            },
            buttonsStyling: false
            })

            swalWithBootstrapButtons.fire({
                title: 'Guardar Datos',
                text: "¿Estas seguro de que quieres continuar?",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Si, guardar',
                cancelButtonText: '!No, cancelar¡',
                reverseButtons: true
            }).then((result) => {
            if (result.isConfirmed) {
                swalWithBootstrapButtons.fire(
                '¡Guardado con éxito!',
                'Tus datos han sido guardados correctamente',
                'success'
            )} else if (
            /* Read more about handling dismissals below */
                result.dismiss === Swal.DismissReason.cancel
            ){
            swalWithBootstrapButtons.fire(
                'Cancelado',
                'Ésta acción ha sido cancelada',
                'error'
            )
        }
    })
}




</script>
<script src="/static/assets/repositorios/loader.js"></script>
<script>

document.getElementById("li1").onload = auten()

const csrftoken = document.cookie.match(/csrftoken=(\w+)/)[1];
axios.defaults.headers.common['X-CSRFToken'] = csrftoken;
localStorage.removeItem('data_arrendador')
var data_arrendador =[]
// Configuracion general de axios


const server = 'http://192.168.2.14:8001'
{% comment %} const server = 'https://arrendify-api.onrender.com' {% endcomment %}
const configin = {
    headers: {
      'Content-Type': 'application/json',
      'Accept': 'application/json',
      'Authorization': `Token ${localStorage.getItem('token')}`
    },
};
      // Despues carcamos la tabla de usuarios

const configin_archivos = {
    headers: {
        'Authorization': `Token ${localStorage.getItem('token')}`,
    },
    processData: false,
    contentType: false,
    timeout: 5000
};

document.getElementById("cargar_tabla").onload = tabla()
// Comenzamos funciones
    function tabla(){
        var url = `${server}/Arrendador_Api/`;
        
        var option = document.getElementById("opt");
        option.selected = true;
        var form = document.getElementById("Formu");
        form.reset();
        
        console.log("Esta cargando tabla")
        axios.get(`${server}/Arrendador_Api/`,configin)
            .then(function (response) { 
            data_arrendador = response.data
            // manejar respuesta exitosa
            console.log("Respuesta arrendador", response.data)
            localStorage.setItem('datos_totales', JSON.stringify(response.data));        
            //da = response.data
            //const personaFiltrada = da.filter(persona => persona.pmoi === "Persona Fisica");

           // console.log("Names", personaFiltrada)

            for (let i = 0; i < data_arrendador.length; i++)
            {
                console.log("for",data_arrendador[i].user)
            }

            var cuerpo = document.getElementById("table_body")
            let res = response.data
            if(res.length > 0 ){
                console.log("res",res)
    
                for(let i = 0; i < res.length;i++)
                {
                    var fecha_actualizacion = res[i].created
                    var fa = fecha_actualizacion.split('T')
                    var f_hora =  fa[1].split('.')
                    fecha_actualizacion = fa[0] + " " + "a las " +" "+f_hora[0]

                    let tr = document.createElement('tr')
                    let col1 = document.createElement('td')
                    let col2 = document.createElement('td')
                    let col3 = document.createElement('td')
                    let col4 = document.createElement('td')
                    let col5 = document.createElement('td')
                    let col6 = document.createElement('td')
                    let col7 = document.createElement('td')
                    //let col8 = document.createElement('td')
                    //let check = document.createElement("input")
                    //check.setAttribute("type","checkbox");
                    //check.setAttribute("class","form-check-input");

                    //col1.appendChild(check);
                    col1.innerHTML = `
                                    <td class="d-flex justify-content-center">
                                        <div class="text-center">
                                            <span class="fw-normal">${i+1}</span>
                                        </div>
                                    </td>
                                    `
                    col2.innerHTML = `<a class="d-flex align-items-center">
                        <div class="d-block">
                            <span class="fw-bold" onClick="detalles_arrendador('${res[i].slug}')"> ${res[i].nombre !== "" ? res[i].nombre + " " +res[i].apellido + " " + res[i].apellido1 : res[i].n_inmobiliaria} </span>
                            <div class="small text-gray">${res[i].email === null ? res[i].email_in : res[i].email}</div>
                        </div>
                        </a>`
                    col3.innerHTML = `<span class="fw-normal ">${fecha_actualizacion}</span>`
                    col4.innerHTML = `<span class="fw-normal ">${res[i].pmoi}</span>`
                    col5.innerHTML = `<div class="text-center">
                                        ${res[i] && res[i].arrendador && res[i].arrendador[0] ? ` 
                                            <div class="button-container d-flex justify-content-center">                                       
                                                <button type="button" class="btn btn-color same-size-btn ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" data-tooltip="Ver documentos" onClick="guardarArrendador('${res[i].slug}')">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                                                        <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"></path>
                                                        <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"></path>
                                                    </svg>
                                                Ver Docs
                                                </button>
                                            </div>
                                        </div>                                        
                                    `
                                    : `
                                        <div class="button-container d-flex justify-content-center"> 
                                            <button type="button" class="btn btn-primary ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" data-tooltip="Agregar documentos" data-bs-toggle="modal" data-bs-target="#archivos_arrendador" onClick="colocar_id('${res[i].id}', '${res[i].nombre !== "" ? res[i].nombre + " " +res[i].apellido + " " + res[i].apellido1 : res[i].n_inmobiliaria}')">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                                                        <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"></path>
                                                        <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"></path>
                                                    </svg>
                                                    Subir
                                            </button>
                                        </div>
                                       
                                       `
                                        }
                                        
                                    `;

                    col6.innerHTML = `
                    {% comment %} <div class="custom-select-wrapper">
                                        <select id="${res[i].estatus_arrendador}" class="form-select custom-select ${res[i].estatus_arrendador === 'Aprobado' ? 'text-success' : res[i].estatus_arrendador === 'En espera' ? 'text-warning' : 'text-danger'}" disabled aria-label="Default select example">
                                            <option value="Aprobado" ${res[i].estatus_arrendador === 'Aprobado' ? 'selected' : ''}>Aprobado</option>
                                            <option value="En espera" ${res[i].estatus_arrendador === 'En espera' ? 'selected' : ''}>En espera</option>
                                            <option value="Rechazado" ${res[i].estatus_arrendador === 'Rechazado' ? 'selected' : ''}>Rechazado</option>
                                        </select>
                                    </div> {% endcomment %}
                                            <div class="custom-select-wrapper" style="width: 70%; margin: 0 auto;">
                                                ${res[i].estatus_arrendador === 'Aprobado' ? `<button  type="button" class="btn btn-success tamanio">${res[i].estatus_arrendador}</button>` 
                                                : res[i].estatus_arrendador === 'Rechazado' ? `<button type="button" class="btn btn-danger tamanio">${res[i].estatus_arrendador}</button>`
                                                : `<button type="button" class="btn btn-warning tamanio">${res[i].estatus_arrendador}</button>`}
                                            </div>

                                        `
                    col7.innerHTML =   `${res[i] && res[i].arrendador && res[i].arrendador[0] ? `<div class="btn-group dropstart">
                                        <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                                            <span class="visually-hidden">Toggle Dropdown</span>
                                        </button>
                                        
                                        <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1 ">
                                            <a class="dropdown-item d-flex align-items-center ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" onClick="editar('${res[i].slug}')">
                                                <svg xmlns="http://www.w3.org/2000/svg" title="Editar" data-bs-toggle="tooltip" fill="currentColor" fill-rule="evenodd"  class="icon icon-xs bi bi-pencil ms-1" viewBox="0 0 16 16">
                                                    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                                </svg>&nbsp;Editar Arrendador
                                            </a>

                                            <a class="dropdown-item d-flex align-items-center ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" onClick="eliminarArrendador_('${res[i].slug}')">
                                                <svg class="icon icon-xs text-danger ms-1" title="Eliminar" data-bs-toggle="tooltip" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                                &nbsp;Borrar Arrendador
                                            </a>  
                                        </div>   
                                        </div>`: `<div class="btn-group dropstart">
                                        <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split ${res[i].estatus_arrendador === 'Rechazado' ? 'disabled' : 'no_rechazado'}" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                                            <span class="visually-hidden">Toggle Dropdown</span>
                                        </button>
                                        
                                        <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1">
                                            <a class="dropdown-item d-flex align-items-center"onClick="editar('${res[i].slug}')">
                                                <svg xmlns="http://www.w3.org/2000/svg" title="Editar" data-bs-toggle="tooltip" fill="currentColor" fill-rule="evenodd"  class="icon icon-xs bi bi-pencil ms-1" viewBox="0 0 16 16">
                                                    <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                                </svg>&nbsp;Editar Arrendador
                                            </a>

                                            <a class="dropdown-item d-flex align-items-center" onClick="eliminarArrendador_('${res[i].slug}')">
                                                <svg class="icon icon-xs text-danger ms-1" title="Eliminar" data-bs-toggle="tooltip" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                                &nbsp;Borrar Arrendador
                                            </a>                                    
                                        </div>   
                                        </div>`}`; 
                    tr.appendChild(col1);
                    tr.appendChild(col2);
                    tr.appendChild(col3);
                    tr.appendChild(col4);
                    tr.appendChild(col5);
                    tr.appendChild(col6);
                    tr.appendChild(col7);
                    //tr.appendChild(col8);
                    cuerpo.appendChild(tr);
                }
                    console.log(response);
            } else{
                cuerpo.innerHTML = '<td colspan="7"><center><h1>Sin Registro <img src="https://cdn-icons-png.flaticon.com/512/929/929457.png"style="width:50px;height:50px"></h1></center></td>'
                console.log("sin datos")
            } 
        })
        .catch(function (error) {
            // manejar error
            console.log(error);
        })
        .finally(function () {
            // siempre sera executado
        });
}

const editar = async (slug) => {
    return axios.get(`${server}/Arrendador_Api/${slug}/`, configin)
        .then(response =>{
            localStorage.setItem('data_arrendador', JSON.stringify(response.data));        
            window.location.href =  `/editar_arrendador/${slug}/`
        }).catch(error => {
            console.log(error);
        })
}

// function registro
const btnSubmit = document.getElementById("finalizar1")
let formulario = {};

btnSubmit.addEventListener("click", function (event) {
    event.preventDefault();
    console.log("ojojojo")
    formulario = JSON.parse(localStorage.getItem('datos'));
    
    console.log("viewform",formulario)
    console.log("select",formulario.hasOwnProperty("no_inquilinos"))
    enviar_datos(formulario)

    localStorage.removeItem('datos')
    setTimeout(() => {
        location.reload()
    }, "2000");
       
})

async function enviar_datos(formulario){
    console.log("dATOSSSS")
    datos = JSON.parse(localStorage.getItem('datos_totales'))
    console.log(datos)

    formulario.nombre + formulario.apellido + formulario.apellido1
    console.log(formulario.nombre);
    console.log(formulario.apellido);
    console.log(formulario.apellido1);

    const tieneDuplicado = datos.some(objeto => {
        const datoConcatenado = objeto.nombre + objeto.apellido + objeto.apellido1;
        return datoConcatenado === formulario.nombre + formulario.apellido + formulario.apellido1;
    });

    if (tieneDuplicado) {
        Swal.fire({
            icon: 'error',
            title: 'Oops...',
            text: 'Ya existe un usuario con esos datos',
        });
    } else {
        const response = await axios.post(`${server}/Arrendador_Api/`,formulario,configin)
        console.log('El objeto no tiene un dato concatenado duplicado.');
    }


    console.log("response",response)
    //location.reload()
}

const eliminarArrendador = async (slug) =>{
    try{
        const response = await axios.delete(`${server}/Arrendador_Api/${slug}/`, configin);
        console.log("Arrendador eliminado correctamente");
        setTimeout(() =>{
            location.reload();
        }, 1500);
    }catch(error){
        console.log(error);
    }
}

const detalles_arrendador = async (slug) => {
    try{
        const response = await axios.get(`${server}/Arrendador_Api/${slug}/`,configin);
        localStorage.setItem('arrendador', JSON.stringify(response.data));
        window.location = `/detalles_arrendador/${slug}/`;
    }catch(error){
        console.log(error);
    }
}


const guardarArrendador = async (slug) =>{
    try{
        const response = await axios.get(`${server}/Arrendador_Api/${slug}/`, server, configin);
        console.log("Debio guardar", response);
        localStorage.setItem('data_arrendador', JSON.stringify(response.data));
        window.location.href = `../documentos_detalles/${slug}/`;
    }catch(error){
        console.log(error);
    }
}
</script>

<script>

function colocar_id(id, nombre){
    document.getElementById("id_arrendador").value = id;
    document.getElementById("arrendador_nombre").value = nombre;
}

function limpiar_formulario_post(){
    var form = document.getElementById("registro_archivos")
    form.reset();
    location.reload();
}



const formRegistroArchivos = document.getElementById("registro_archivos");
formRegistroArchivos.addEventListener("submit", function(event){
    event.preventDefault();
    if (formRegistroArchivos.checkValidity()){
        guardarArchivosArrendador();
    }else{
        formRegistroArchivos.classList.add("was-validated");
        console.log("No paso la validacion");
    }
});


const guardarArchivosArrendador = async () => {
    const formData = new FormData();
    formData.append('ine', $('#ine')[0].files[0]);
    formData.append('comp_dom', $('#comp_dom')[0].files[0]);
    formData.append('predial', $('#predial')[0].files[0]);
    formData.append('escrituras_titulo', $('#escrituras_titulo')[0].files[0]);
    formData.append('arrendador', $('#id_arrendador').val().trim());
    console.log("Soy id arrendador", $('#id_arrendador').val().trim());
    //formData.forEach(function(value, key) {
    //    console.log(key + ': ' + value);
    //});
    localStorage.removeItem('datos');
    try {
        const response = await guardarArchivosArrendador_(formData);
        Swal.fire({
            icon: 'success',
            title: '¡Agregado correctamente!',
            text: 'Se agregaron los documentos de forma exitosa.',
            showConfirmButton: false,
            timer: 2000
        }).then(() =>{
            location.reload();
        });
    } catch (error) {
        console.log(error);
    }
}


const guardarArchivosArrendador_ = (formData) =>{
    //console.log("Siiiiii", formData);
    return axios.post(`${server}/Arrendador_Api/create_documentos/`, formData, configin_archivos);
}

</script>

<script>
var emailInput = document.getElementById("email");
  emailInput.addEventListener("input", function() {
    console.log("Esta entrando a validar email")
    var email = emailInput.value;
    // Regular expression pattern for email validation
    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (emailPattern.test(email)) {
      // Email is valid
        $('#email').removeClass('is-invalid');
        $('#email').addClass('form-control');
        $('#email').removeClass('warning'); 
        $('#email').css('border-color', 'green');
        $('input[name="boton_next1"]').prop('disabled', false);

    }else {
      // Email is invalid
        console.log("No pasa")
        $('input[name="boton_next1"]').prop('disabled', true);
        $('#email').addClass('is-invalid');
        $('#email').removeClass('form-control');
    }
});


var email_inmueble = document.getElementById("email_in");
  email_inmueble.addEventListener("input", function() {
    console.log("Esta entrando a validar email")
    var email = email_inmueble.value;
    // Regular expression pattern for email validation
    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (emailPattern.test(email)) {
      // Email is valid
        $('#email_in').removeClass('is-invalid');
        $('#email_in').addClass('form-control');
        $('#email_in').removeClass('warning'); 
        $('#email_in').css('border-color', 'green');  
        $('input[name="next1_inmuebles"]').prop('disabled', false);

    }else {
      // Email is invalid
        console.log("No pasa")
        $('input[name="next1_inmuebles"]').prop('disabled', true);
         $('#email_in').css('border-color', 'red'); 
        $('#email_in').addClass('is-invalid');
        $('#email_in').removeClass('form-control');
    }
});

var email_arr = document.getElementById("email_arr");
  email_arr.addEventListener("input", function() {
    console.log("Esta entrando a validar email")
    var email = email_arr.value;
    // Regular expression pattern for email validation
    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (emailPattern.test(email)) {
      // Email is valid
        $('#email_arr').removeClass('is-invalid');
        $('#email_arr').addClass('form-control');
        $('#email_arr').removeClass('warning'); 
        $('#email_arr').css('border-color', 'green');  
        $('input[name="next3_inmobiliaria"]').prop('disabled', false);

    }else {
      // Email is invalid
        console.log("No pasa")
        $('input[name="next3_inmobiliaria"]').prop('disabled', true);
         $('#email_arr').css('border-color', 'red'); 
        $('#email_arr').addClass('is-invalid');
        $('#email_arr').removeClass('form-control');
    }
});
var nombre_input = document.getElementById("nombre");
nombre_input.addEventListener("input", function(){
    var nombre = nombre_input.value;

    if(nombre !== ""){
        $('#nombre').removeClass('warning');
        $('#nombre').removeClass('is-invalid');
        $('#nombre').css('border-color', 'green');
    }else{
        $('#nombre').css('border-color', 'red');
        $('#nombre').addClass('is-invalid');
    }
});

var apellido_input = document.getElementById("apellido");
apellido_input.addEventListener("input", function(){
    var nombre = apellido_input.value;

    if(nombre !== ""){
        $('#apellido').removeClass('warning');
        $('#apellido').css('border-color', 'green');
        $('#apellido').removeClass('is-invalid');
    }else{
        $('#apellido').css('border-color', 'red');
        $('#apellido').addClass('is-invalid');
    }
});

var apellido1 = document.getElementById("apellido1");
apellido1.addEventListener("input", function(){
    var nombre = apellido1.value;

    if(nombre !== ""){
        $('#apellido1').removeClass('warning');
        $('#apellido1').css('border-color', 'green');
        $('#apellido1').removeClass('is-invalid');
    }else{
        $('#apellido1').css('border-color', 'red');
        $('#apellido1').addClass('is-invalid');
    }
});


var numeroTel1 = document.getElementById("numeroTel1");
numeroTel1.addEventListener("input", function(){
    var nombre = numeroTel1.value;
    if(nombre !== ""){
        $('#numeroTel1').removeClass('warning');
        $('#numeroTel1').css('border-color', 'green');
        $('#numeroTel1').removeClass('is-invalid');
    }else{
        $('#numeroTel1').css('border-color', 'red');
        $('#numeroTel1').addClass('is-invalid');
    }
});

var inputElement = document.getElementById("rfc");

inputElement.addEventListener("input", function(event) {
    var inputValue = inputElement.value;
    // Remove any non-letter or non-number characters
    var sanitizedValue = inputValue.replace(/[^A-Za-z0-9]/g, '');
    // Limit the input to 12 to 13 characters
    var limitedValue = sanitizedValue.substring(0, 13);
    if(sanitizedValue.length < 12){
        $('#rfc').addClass('is-invalid');
        $('#rfc').removeClass('form-control')
    }else{
        $('#rfc').removeClass('warning')    
        $('#rfc').addClass('form-control');  
        $('#rfc').removeClass('is-invalid'); 
        $('#rfc').css('border-color', 'green');
 
    }

    console.log(sanitizedValue.length)
    // Update the input value
    inputElement.value = limitedValue;
});


function verificarInputs() {
    $('input[required]').each(function() {
        var valor = $(this).val();
        if (valor.trim() !== '' && $(this).attr('id') !== 'nombre'&& $(this).attr('id') !== 'apellido'&& $(this).attr('id') !== 'apellido1'&& $(this).attr('id') !== 'rfc'&& $(this).attr('id') !== 'email') {
            $(this).css('border-color', 'green');
            $(this).removeClass('warning');
        }
    });
}

$(document).ready(function() {
    $('input[required]').on('input', function() {
        verificarInputs();
    });
}); 

function validarEstadoCivil() {
    $('#estado_civil').addClass('is-invalid');
}

var estado_civil = document.getElementById("estado_civil");
estado_civil.addEventListener("input", function(){
    $('#estado_civil').removeClass('is-invalid'); 
    $('#estado_civil').css('border-color', 'green');
});

{% comment %} var numeroTel1 = document.getElementById("numeroTel1");
numeroTel1.addEventListener("input", function(){
    $('numeroTel1').removeClass('is-invalid');
    $('numeroTel1')
}) {% endcomment %}

</script>
<script>
    document.getElementById("li2").onload = inicio()
    function inicio(){
        auten()
    }
</script>




<script>

{% comment %} const genera_pdf = document.getElementById("genera_pdf");

genera_pdf.addEventListener("click", function(){
   data = {
    "Nombre":"Jose",
    "valor":10
   } 
    generarPDF(data);
}); {% endcomment %}

{% comment %} const generarPDF = async(data)=>{
    try {
        const response = await axios.post(`${server}/pdf/`, JSON.stringify(data), { responseType: 'blob' });
        const blob = new Blob([response.data], { type: 'application/pdf' });
        const url = window.URL.createObjectURL(blob);
        const link = document.createElement('a');
        link.href = url;
        link.download = 'archivo.pdf';
        link.click();
        window.URL.revokeObjectURL(url);
    } catch (error) {
        console.error('Error al generar el PDF:', error);
    }
} {% endcomment %}

</script>


<script>
const button = document.getElementById('loader');

// Agregar el evento de clic al botón
{% comment %} button.addEventListener('click', () => {
  const loaderContainer = document.createElement('div');
  loaderContainer.style.width = '100px';
  loaderContainer.style.height = '100px';
  loaderContainer.style.display = 'flex';
  loaderContainer.style.justifyContent = 'center';
  loaderContainer.style.alignItems = 'center';
  loaderContainer.style.overflow = 'hidden';
  loaderContainer.style.background = 'none'; // Establecer el fondo como none

  const loaderSpan = document.createElement('span');
  loaderSpan.className = 'loader';

  loaderContainer.appendChild(loaderSpan);

  Swal.fire({
    title: '',
    html: loaderContainer.outerHTML,
      showCloseButton: true,
    showConfirmButton: false,
    background: 'none', // Establecer el fondo del contenedor principal como none
    didOpen: () => {
      const swalContainer = Swal.getHtmlContainer();
      swalContainer.style.display = 'flex';
      swalContainer.style.justifyContent = 'center';
      swalContainer.style.alignItems = 'center';
      swalContainer.style.background = 'none'; // Establecer el fondo del contenedor del span como none
    },
    willClose: () => {
        clearInterval(timerInterval);
    }
  });
}); {% endcomment %}



{% comment %} const button = document.getElementById('loader');

  // Agregar el evento de clic al botón
  button.addEventListener('click', () => {
    // Obtener el contenedor del loader
    const loaderContainer = document.querySelector('.loader-container');

    // Crear el span del loader
    const loaderSpan = document.createElement('span');
    loaderSpan.className = 'loader';

    // Agregar el span al contenedor del loader
    loaderContainer.appendChild(loaderSpan);

    // Mostrar el modal
    $('#loaderModal').modal({
      backdrop: 'static',
      keyboard: false
    });

    // Código adicional para controlar el cierre del modal y limpiar el intervalo del timer
    $('#loaderModal').on('hidden.bs.modal', function (e) {
      clearInterval(timerInterval);
    });
  }); {% endcomment %}












</script>


{% comment %} <script src="/static/assets/js/ocultadorespf.js"></script> {% endcomment %}
<script src="/static/assets/js/validacionpf.js"></script>
{% endblock javascripts %}
