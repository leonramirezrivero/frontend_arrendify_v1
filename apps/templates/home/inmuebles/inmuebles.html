{% extends "layouts/base.html" %}

{% block title %} Inmueble {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<link href="/static/assets/css/ms_arr.css" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="/static/assets/css/tabla.css">
<style>


/* Estilos para la etiqueta de texto */
.form-check-label {
  font-weight: bold;
  color: #333;
}

/* Estilos para el checkbox */
.form-check-input[type="checkbox"] {
  margin-top: 6px;
}

/* Estilos para el select */
.select-style {
  width: 100%;
  padding: 6px 12px;
  font-size: 14px;
  line-height: 1.42857143;
  color: #555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}

/* Estilos para el input de cantidad */
.form-control {
  width: 100%;
  padding: 6px 12px;
  font-size: 14px;
  line-height: 1.42857143;
  color: #555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 4px;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}

/* Estilos para el separador horizontal */
hr.my-4 {
  border-top-color: #ccc;
}




</style>
{% endblock stylesheets %}

{% block content %}

<div id="cargar_tabla" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4" style="background-color:#edede9;">
    <div class="d-block mb-4 mb-md-0" style="margin-left:10px">
        <h1 class="h1">Inmueble</h1>
        <p class="mb-0">Listado de Inmueble</p>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" data-bs-toggle="modal" data-bs-target="#reg_inmueble">
            <svg class="icon icon-xs me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            Nuevo Inmueble
        </a>
    </div>
  </div>

<div class="table-settings mt-2 mb-4">
  <div class="row justify-content-between align-items-center">
      <div class="col-9 col-lg-8 d-md-flex">
          <div class="input-group mt me-2 me-lg-3 fmxw-300">
              <span class="input-group-text">
                  <svg class="icon icon-xs" x-description="Heroicon name: solid/search" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                  </svg>
              </span>
              <input type="text" class="form-control" placeholder="Buscar por Nombre">
            </div>
            <select class="form-select fmxw-200 d-none d-md-inline" aria-label="Message select example 2" require>
                <option selected>Estatus</option>
                <option value="1">Renta</option>
                <option value="2">Disponible</option>
                <option value="3">Venta</option>
            </select>
            
            <div class="ms-3">
                <form method="get">
                    <p class="d-md-inline">Registros por página:</p>
                    <select style="width:100px;" class="form-select fmxw-200  d-md-inline" name="records_per_page" onchange="this.form.submit()" id="records_per_page">
                        <option hidden>Registros por página:</option>
                        <option value="5" {% if records_per_page == 5 %}selected{% endif %}>5</option>
                        <option value="10" {% if records_per_page == 10 %}selected{% endif %}>10</option>
                        <option value="20" {% if records_per_page == 20 %}selected{% endif %}>20</option>
                        <option value="50" {% if records_per_page == 50 %}selected{% endif %}>50</option>
                    </select>
                </form>
            </div>
        </div>
        
    </div>
</div>
<div class="card card-body shadow border-0 table-wrapper table-responsive"><!-- podemos agregar la clase => table-responsive-->
    <table class="table  user-table align-items-center mb-5 tabla_datos" > <!--id="datatable"-->
        <thead>
            <tr >
                <th class="border-bottom"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                <th class="border-bottom">ID</th>
                <th class="border-bottom">Alias del Inmueble</th>
                <th class="border-bottom">Tipo de Inmueble</th>						
                <th class="border-bottom">Fecha de Registro</th>
                <th class="border-bottom">Estatus</th>
                <th class="border-bottom">Mobiliario (Opcional)</th>
                <th class="border-bottom">Gravamen</th>
            </tr>
        </thead>
        <tbody id="table_body" style="overflow-x: hidden;">

        </tbody>
    </table>
</div>
      {% comment %} {% include 'includes/pagination.html' with entity=page_obj %} {% endcomment %}
{% comment %} <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#total_mobiliario">
    Mobiliario
</button>  {% endcomment %}

  <!-- Modal Mobiliario Agregar-->
<div class="modal fade" id="total_mobiliario" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" id="modal-dialog_agregar">
        <div class="modal-content" id="modal-content_agregar">
            <div class="modal-header" id="modal-header_agregar">
                <h5 class="modal-title" id="titulo_agregar">Estado del mobiliario</h5>
                <button type="button" id="boton_close_agregar" class="btn-close bg-white " data-bs-dismiss="modal" aria-label="Close"  onclick="recargar_pagina()"></button>
            </div>
            <div class="modal-body" id="modal-body_agregar">
                <form id="form_mobiliario" class="needs-validation form_mobiliario" novalidate>
                </form>
            </div>
        </div>
    </div>
</div>

{% comment %} Modal mobiliario {% endcomment %}
<div class="modal fade" id="inventario_mobiliario" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content modal-content-mobiliario" id="modal-content-mobiliario">
            <div class="modal-header modal-header-mobiliario" id="modal-header-mobiliario">
                <h5 class="modal-title exampleModalLabel-mobiliario" id="exampleModalLabel-mobiliario">Inventario del mobiliario del inmueble</h5>
                <button type="button" id="cerrar_total_mobiliario" class="btn-close bg-white" data-bs-dismiss="modal" aria-label="Close" onclick="recargar_pagina()"></button>
            </div>
            <div class="modal-body" id="table_mobiliaria">

            </div>
            <div class="modal-footer">
                <p>Mobiliario total</p>
            </div>
        </div>
    </div>
</div>

{% comment %} <input class="btn btn-primary" type="button" value="Input" id="datos_arrendador"> {% endcomment %}

   <!-- Modal -->
<div id="Modal Registro">
    <p id="carga_plantar" style="display:none;">
        <p id="carga_pfom" style="display:none;">
            <p id="carga_aa" style="display:none;">
    <div class="modal fade" id="reg_inmueble" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" style="height:15px" id="exampleModalLabel">Registro Inmueble</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="padding:0;">
    <div class="container">
        <div class="card">
            {% comment %} action="{% url 'createf' %}" {% endcomment %}
            <form id="Formu" class="form"  enctype="multipart/form-data"  method="post" > 
                {% csrf_token %}
                <div class="left-side">
                    <div class="left-heading">
                        <h3>Introduce la información Solicitada</h3>
                    </div>
                    <div class="steps-content" style="margin-bottom:-50px;">
                        <h3>Paso <span class="step-number">1</span></h3>
                    
                    </div>
                    <ul class="progress-bar" style="background:none;">
                        <li id="li1" class="active">Inicio</li>
                        <li id="li2">Paso 2</li>
                        <li id="li3">Paso 3</li>
                        <li id="li4">Paso 4</li>
                        <li id="li5">Paso 5</li>
                        <li id="li6">Paso 6</li>
                        <li id="li7">Paso 7</li>
                    </ul>
                </div>
                <div class="right-side">
                    <div id="step1" class="main active">
                        <small><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-buildings" viewBox="0 0 16 16">
                            <path d="M14.763.075A.5.5 0 0 1 15 .5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V14h-1v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V10a.5.5 0 0 1 .342-.474L6 7.64V4.5a.5.5 0 0 1 .276-.447l8-4a.5.5 0 0 1 .487.022ZM6 8.694 1 10.36V15h5V8.694ZM7 15h2v-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5V15h2V1.309l-7 3.5V15Z"/>
                            <path d="M2 11h1v1H2v-1Zm2 0h1v1H4v-1Zm-2 2h1v1H2v-1Zm2 0h1v1H4v-1Zm4-4h1v1H8V9Zm2 0h1v1h-1V9Zm-2 2h1v1H8v-1Zm2 0h1v1h-1v-1Zm2-2h1v1h-1V9Zm0 2h1v1h-1v-1ZM8 7h1v1H8V7Zm2 0h1v1h-1V7Zm2 0h1v1h-1V7ZM8 5h1v1H8V5Zm2 0h1v1h-1V5Zm2 0h1v1h-1V5Zm0-2h1v1h-1V3Z"/>
                          </svg></small>
                          <div class="text">
                            <h2 id="dio">Datos Generales Del Inmueble</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                        </div>                       
                        <hr class="hr" />
                        <div id="dgdi">
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" name="alias_inmueble" id="alias_inmueble" oninput="prueba2(this)" require>
                                    <span>Alias del Inmueble<label class="obl">*</label></span>
                                </div>
                            </div>
                            <div class="input-div" style="position: relative; bottom: 23px;">
                                    <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">Arrendador<label class="obl">*</label></label>
                                    <select class="form-select LetraSelect" id="arrendador" name="arrendador" aria-label="Floating label select example" require>

                                    </select>
                            </div>
                            <div class="input-text">
                                <div class="input-div" style="position: relative; bottom: 23px;">
                                    <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">Estatus del Inmueble<label class="obl">*</label></label>
                                    <select class="form-select LetraSelect" id="estatus_inmueble" name="estatus_inmueble" aria-label="Floating label select example" require required>
                                        <option hidden>Estatus</option>
                                        <option value="Rentado">Ocupado</option>
                                        <option value="Disponible">Disponible</option>
                                        <option value="Reparación">Reparación</option>
                                    </select>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" id="clave_catastral" name="clave_catastral" oninput="prueba2(this)" require>
                                    <span>Clave Catastral<label class="obl">*</label></span>
                                </div>  
                                <div class="input-div" style="position: relative; bottom: 23px;">
                                    <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect"  >Estatus Gravamen<label class="obl">*</label></label>
                                    <select class="form-select LetraSelect" id="estatus_gravamen" name="estatus_gravamen" aria-label="Floating label select example" title="Es el derechos obre su propiedad, para asegurar el pago de una deuda o que esta siendo pagada." data-bs-toggle="tooltip" data-bs-placement="bottom">
                                        <option value="Libre De Gravamen">Libre De Gravamen</option>
                                        <option value="Usufructo">Usufructo</option>
                                        <option value="Hipoteca">Hipoteca</option>
                                    </select>
                                </div>      
                            </div>
                        <div class="input-text">
                            <div class="input-div" style="position: relative; bottom: 23px;">
                                <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">Tipo de Inmueble<label class="obl">*</label></label>
                               <select class="form-select LetraSelect" id="tipo_inmueble" name="tipo_inmueble" aria-label="Floating label select example" require>
                                    <option hidden>Tipo de Inmueble</option>
                                    <option value="Casa">Casa</option>
                                    <option value="Departamento">Departamento</option>
                                    <option value="Local">Local</option>
                                    <option value="Oficina">Oficina</option>
                                    <option value="Bodega">Bodega</option>
                                    <option value="Condominios">Condominios</option>
                                    <option value="Duplex">Duplex</option>
                                    <option value="Edificio">Edificio</option>
                                </select>
                            </div> 
                            <div class="input-div" style="position: relative; bottom: 23px;">
                                <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">Uso Del Inmueble<label class="obl">*</label></label>
                                <select class="form-select LetraSelect" id="uso_inmueble" name="uso_inmueble" aria-label="Floating label select example" require>
                                    <option hidden>Uso del Inmueble</option>
                                    <option value="Residencial">Residencial</option>
                                    <option value="Comercial">Comercial</option>
                                    <option value="Terreno baldio">Terreno Baldio</option>
                                </select>
                            </div>                       
                         </div>                      
                            <div class="buttons mt-3">
                                <input class="btn btn-primary next_button" type="button" id="next1" name="next_uno" value="Siguiente" >
                            </div>
                        </div>
                    </div>
                    
                    <div id="step2" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-briefcase-fill" viewBox="0 0 16 16">
                                <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                            </svg>
                        </small>
                        
                    <div id="renta_valor" >
                        <div class="text">
                            <h2 id="tdde">Datos Financieros</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                            <hr class="hr" />
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input class="form-control" type="number" id="renta" name="renta" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                <span>Valor De La Renta<label class="obl">*</label></span>
                            </div>
                            <div class="input-div">
                                <input class="form-control" type="number" id="valor_catastral" name="valor_catastral" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);"  require>
                                <span>Valor Catastral<label class="obl">*</label></span>
                            </div>
                        </div>
                        <div class="input-text">                            
                            <div class="input-div">
                                <input class="form-control" type="number" maxlength="13" id="venta" name="venta" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);"  require>
                                <span>Valor De Venta<label class="obl">*</label></span>
                            </div>
                            <div class="input-div">
                                <div class="form-check m-1">
                                    <input class="form-check-input" type="checkbox" value="" id="ver_cuota_mantenimiento">
                                    <label class="form-check-label" for="flexCheckDefault">
                                        Incluye cuota de mantenimiento
                                    </label>
                                </div>
                                <br>
                                <div class="input-div">
                                    <input class="form-control" type="number" maxlength="13" id="cuota_mantenimiento" name="cuota_mantenimiento" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);"  >
                                    <span id="span_cuota_mantenimiento">   Costo<label class="obl">*</label></span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3 " >                                    
                            <input class="form-check-input" type="checkbox" id="op_compra" name="op_compra" value="No" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);">
                            <label class="form-check-label" for="op_compra">En Renta con opción a Venta</label>
                        </div>
                    </div>
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>
                    
                    <div id="step3" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-building-fill-check" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514Z"/>
                                <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7.256A4.493 4.493 0 0 0 12.5 8a4.493 4.493 0 0 0-3.59 1.787A.498.498 0 0 0 9 9.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .39-.187A4.476 4.476 0 0 0 8.027 12H6.5a.5.5 0 0 0-.5.5V16H3a1 1 0 0 1-1-1V1Zm2 1.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3 0v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1ZM4 5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm2.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"/>
                            </svg>
                        </small>
                        <div id="ubicacion">
                            <div class="text">
                                <h2>Ubicación</h2>
                                <p>Por favor introduce tus datos Domiciliarios.</p>
                                <hr class="hr" />
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="calle" name="calle" oninput="prueba2(this)" require>
                                    <span>Calle<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="text" id="numeroExterior" name="numeroExterior" oninput="prueba2(this)" require>
                                    <span>Número Ext.<label class="obl">*</label></span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="number" id="numeroInterior" name="numeroInterior" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" >
                                    <span>Número Int.</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input type="text"id="colonia" name="colonia" oninput="prueba2(this)" require>
                                    <span>Colonia<label class="obl">*</label></span>
                                </div>
                               
                                <div class="input-div"> 
                                    <input class="form-control" id="postal_code" name="postal_code" type="tel" maxlength="5" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);"  require>
                                    <span>Código Postal<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                        <input type="text" id="municipio_alcaldia" name="municipio_alcaldia" oninput="prueba2(this)" require>
                                        <span>Municipio/Alcaldia<label class="obl">*</label></span>
                                    </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                   <div class="input-div"> 
                                    <input type="text" id="estado" name="estado" oninput="prueba2(this)" require>
                                    <span>Estado/Ciudad<label class="obl">*</label></span>
                                </div>
                                </div>
                              
                            </div>
                            <div class="row">
                                <h3 class="h6 mb-2">¿Entre qué calles esta?</h3>
                                <div class="col-md-6 mb-3">
                                    <div class="col-md-12 mb-2">
                                        <span>Calle 1<label class="obl">*</label></span>
                                        <input id="calle1" name="calle1" type="text" oninput="prueba2(this);" require>
                                    </div>
                                    <div class="col-md-12 mb-2">
                                        <span>Calle 2<label class="obl">*</label></span>
                                        <input id="calle2" name="calle2" type="text" oninput="prueba2(this);" require>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-4">
                                    <span>Referencias<label class="obl">*</label></span>
                                    <textarea class="form-control" id="referencias" oninput="prueba2(this);" name="referencias" rows="5" require></textarea>
                                </div>
                            </div>
                            
                           
                            <div class="buttons button_space">
                                <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                                <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                            </div>
                      
                            
                        </div>
                     
                    </div>
                    
                    {% comment %} referencias del Arrendatario {% endcomment %}
                    <div id="step4" class="main">
                        <small>
                            <img src="/static/assets/img/icons/aa.png" style="width:25px; height:25px;" alt="icon">
                        </small>

                        <div id="caracteristicas">
                            <div class="text">
                                <h2>Características del Inmueble</h2>
                                <p>Por favor introduce las caracteristicas del inmueble</p>
                                <hr class="hr" />
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" id="n_baños" name="n_baños" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Baños Completos<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="n_medios_baños" name="n_medios_baños" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Medios Baños<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="n_recamaras" name="n_recamaras" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Recamaras<label class="obl">*</label></span>
                                </div>
                            </div>
                            <hr class="hr" />  
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" id="n_pisos" name="n_pisos" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Pisos<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="estacionamiento_cajones" name="estacionamiento_cajones" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Cajones De Estacionamiento<label class="obl">*</label></span>
                                </div>
                            </div>
                            <hr class="hr" />  
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" id="terrenoConstruido" name="terrenoConstruido" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>m2 Construidos<label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="terrenoTotal" name="terrenoTotal" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Total m2 Terreno <label class="obl">*</label></span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="año_contruccion" name="año_contruccion" type="number" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '');prueba2(this);" require>
                                    <span>Año De Construcción<label class="obl">*</label></span>
                                </div>
                            </div>
                        </div>
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>

                    <div id="step5" class="main">
                        <small>
                            <img src="/static/assets/img/icons/ref.png" style="width:25px; height:25px;" alt="icon">
                        </small>
                        
                        <div class="text">
                            <h2>Amenidades</h2>
                            <p>Por favor haz click para marcar las amenidades con las que cuenta el inmueble</p>
                            <hr class="hr" /> 
                        </div>
                        <div class="input-text">
                            <div class="row" id="amenidades">
                                <h2 class="h5 mb-2">Amenidades</h2>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="garage"  value="No" name="garage">
                                    <label class="form-check-label" for="garaje">Garage</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="bodega"  value="No" name="bodega">
                                    <label class="form-check-label" for="garaje">Bodega</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="terraza"  value="No" name="terraza">
                                    <label class="form-check-label" for="terraza">Terraza</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="alberca"  value="No" name="alberca">
                                    <label class="form-check-label" for="alberca">Alberca</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="cocina"  value="No" name="cocina">
                                    <label class="form-check-label" for="cocina">Cocina</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="amueblado"  value="No" name="amueblado">
                                    <label class="form-check-label" for="amueblado">Amueblado</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" value="No" id="cuarto_lavado"  name="cuarto_lavado">
                                    <label class="form-check-label" for="cuarto_lavado">Cuarto de Lavado</label>
                                </div>

                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox"  value="No" id="gym"  name="gym">
                                    <label class="form-check-label" for="gym">Gym</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="bar"  value="No" name="bar">
                                    <label class="form-check-label" for="bar">Bar</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="restaurante_bar"  value="No" name="restaurante_bar">
                                    <label class="form-check-label" for="restaurante_bar">Restaurante Bar</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="sala_cine"  value="No" name="sala_cine">
                                    <label class="form-check-label" for="sala_cine">Sala de Cine</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="salon_estudio"  value="No" name="salon_estudio">
                                    <label class="form-check-label" for="salon_estudio">Cuarto de Estudios</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="area_comun"  value="No" name="area_comun">
                                    <label class="form-check-label" for="area_comun">Área comun</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="sala_juegos"  value="No" name="sala_juegos">
                                    <label class="form-check-label" for="sala_juegos">Sala de Juegos</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="salon_eventos"  value="No" name="salon_eventos">
                                    <label class="form-check-label" for="salon_eventos">Salón de Eventos</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="espacio_deportivo"  value="No" name="espacio_deportivo">
                                    <label class="form-check-label" for="espacio_deportivo">Canchas Deportivas</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="busisness_center"  value="No" name="busisness_center">
                                    <label class="form-check-label" for="busisness_center">Busisness Center</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="roof_garden"  value="No" name="roof_garden">
                                    <label class="form-check-label" for="roof_garden">Roof Garden</label>
                                </div>
                                <div class="col-md-4" >
                                    <input class="form-check-input" type="checkbox" id="otroA" name="otroA"  value="No" title="Especifique en la descripción del siguiente paso" data-bs-toggle="tooltip" data-bs-placement="right" >
                                    <label class="form-check-label" for="otroA" >Otro</label>
                                </div>
                            </div>
                        </div>

                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>

                    <div id="step6" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-calendar-check" viewBox="0 0 16 16">
                                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                              </svg>
                        </small>
                        <div class="text">
                            <h2>Servicios</h2>
                            <p>Por favor haz click para marcar lod Servicios con los que cuenta el inmueble</p>
                            <hr class="hr" /> 
                        </div>

                        <div class="input-text">
                            <div class="row" id="servicis">
                                <h2 class="h5 mb-2">Servicios</h2>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="internet"  value="No" name="internet">
                                    <label class="form-check-label" for="internet">Internet/Wifi</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="electricidad"  value="No" name="electricidad">
                                    <label class="form-check-label" for="electricidad">Energía Eléctrica</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="agua_potable"  value="No" name="agua_potable">
                                    <label class="form-check-label" for="agua_potable">Agua Potable</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="televisionCable"  value="No" name="televisionCable">
                                    <label class="form-check-label" for="televisionCable">Tele por Cable</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="gas"  value="No" name="gas">
                                    <label class="form-check-label" for="gas">Gas</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="lineaTelefonica"  value="No" name="lineaTelefonica">
                                    <label class="form-check-label" for="lineaTelefonica">Línea Telefónica</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="drenaje"  value="No" name="drenaje">
                                    <label class="form-check-label" for="drenaje">Drenaje</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="seguridad"  value="No" name="seguridad">
                                    <label class="form-check-label" for="seguridad">Seguridad</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="camarasSeguridad"  value="No" name="camarasSeguridad">
                                    <label class="form-check-label" for="camarasSeguridad">Circuito Cerrado</label>
                                </div>
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" id="area_juegos"  value="No" name="area_juegos">
                                    <label class="form-check-label" for="a_juegos">Área de juegos</label>
                                </div>
                                <div class="col-md-4" >
                                    <input class="form-check-input" type="checkbox" id="otroS" name="otroS"  value="No" title="Especifique en la descripción" data-bs-toggle="tooltip" data-bs-placement="right" >
                                    <label class="form-check-label" for="otroS" >Otro</label>
                                </div>
                            </div>
                        </div>
                        

                        <div class="col-md-12 mb-4">
                            <label for="descripcion" class="h5 mb-2">Descripción</label>
                            <textarea class="form-control" placeholder="Descripción" id="descripcion" name="descripcion" rows="4" oninput="prueba2(this);"></textarea>
                        </div>


                       
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>


                    <div id="step7" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-calendar-check" viewBox="0 0 16 16">
                                <path d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                              </svg>
                        </small>
                        <div class="mb-3">
                            <div class="text">
                                <h2>Documentos (Opcionales)</h2>
                                <hr class="hr" /> 
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <label for="reglamento_interno" class="form-label">Reglamento Interno del inmueble</label>
                                    <input class="form-control"  id="reglamento_interno" name="reglamento_interno" type="file" placeholder="URL">
                                </div>
                                <div class="input-div"> 
                                    <label for="mobiliario" class="form-label">Mobiliario (inventario)</label>
                                    <input class="form-control"  id="mobiliario" name="mobiliario" type="file" placeholder="URL">
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                              {% comment %} <label for="mobiliario" class="form-label">Mobiliario (inventario)</label>
                              <input class="form-control"  id="mobiliario" name="mobiliario" type="file" placeholder="URL">
                              <div class="invalid-feedback">
                                  Por favor ingresa un documento valido.
                              </div>
                          <div class="valid-feedback">
                              Se ve bien!
                          </div> {% endcomment %}
                    </div>
                        <div class="text">
                            <h2>Fotos</h2>
                            <p>Por favor sube minimo 1 foto maximo 5 fotos del inmueble</p>
                            <hr class="hr" /> 
                        </div>

                        {% if messages %}
                        <div class="alert alert-danger">
                          <ul>
                            {% for message in messages %}
                              <li>{{ message }}</li>
                            {% endfor %}
                          </ul>
                        </div>
                      {% endif %}
                       
                      <div class="col-md-6 mb-4">
                        <label for="imagenes" class="h5 mb-2">Fotos<label class="obl">*</label></label>
                        <input class="form-control" type="file" id="imagenes" name="imagen_i.img" accept=".jpg,.png"  onChange="validar()"  multiple title="Minimo 1 Foto, Maximo 5 " data-bs-toggle="tooltip" data-bs-placement="top" require required/>
                          
                    </div>
                        <div class="buttons button_space mt-4">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <button class="submit_button next_button" onClick="recopilar()" id="finalizar1" type="submit" >Finalizar</button>
                        </div>
                    </div>

                    <div class="main">
                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                        
                        <div class="text congrats">
                            <h2>¡Listo!</h2>
                            <p>Gracias Sr./Sra. <span class="shown_name"></span>  {{ request.user.first_name }} su información se ha enviado con éxito para futuras referencias.</p> <strong>Pronto nos pondremos en contacto con usted. </strong>
                        </div>
                        <div class="mt-4"> 
                                <img class="deslizar" src="/static/assets/img/brand/candado.svg" style="width:120px; height:120px;" alt="icon">   
                            </div>
                        <div style="" class="message">Cargando Datos...</div>
                    </div>

                </div>
            </form>
        </div>
<!-- End of Modal -->
    
        </div>
        </div>
      </div>
    </div>
  </div>


  <!-- End of Modal2 -->

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %} 
<script src="/static/assets/js/ms_arr.js"></script>
{% comment %} <script src="/static/assets/js/ms.js"></script> {% endcomment %}
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
$(document).ready(function() {
	$('input[type="checkbox"]').change(function() {
		if (this.checked) {
			$(this).val("Si");
		} else {
			$(this).val("No");
		}
	});
});
</script>
<script>
function fin()
{
    localStorage.removeItem('datos');
}

function recopilar()
{
// Obtener y Guardar el valor del input en localStorage
console.log("estoy en guardar",JSON.stringify(arr))
localStorage.setItem('datos', JSON.stringify(arr));
}


function prueba2(val){
    console.log(val.name)
    //arr[""+val.name] = '' +val.value
    arr2 = val.name;
    let k2 = document.getElementById(arr2);
    k2.style.borderColor="green"
    k2.classList.remove('warning')
    
    console.log(arr)
    arr.append(val.name,val.value)

}

</script>

<script>
const csrftoken = document.cookie.match(/csrftoken=(\w+)/)[1];
axios.defaults.headers.common['X-CSRFToken'] = csrftoken;
localStorage.removeItem('inmuebles')

    var data_inmuebles =[]
    // Configuracion general de axios
    const server = 'http://192.168.2.14:8001'
    const configin = {
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
          'Authorization': `Token ${localStorage.getItem('token')}`
        },
      }; 


function get_Arrendadores(){
    return axios.get( `${server}/Arrendador_Api/`,configin);
}


get_Arrendadores()
    .then((response) =>{
        console.log("Si esta llegando a obtener datos arrendador");
        var data = response.data;
        $.each(data, function(index, item){
            if(item.nombre === "")
                $('#arrendador').append('<option value="' + item.id + '">' + item.n_inmobiliaria + '</option>');
            else
                $('#arrendador').append('<option value="' + item.id + '">' + item.nombre + " "+ item.apellido + " " + item.apellido1 +'</option>');
        });
    }).catch((error) =>{
        console.log(error);
    })


      // Despues carcamos la tabla de usuarios
document.getElementById("cargar_tabla").onload = tabla()
// Comenzamos funciones
    function tabla(){
        var form = document.getElementById("Formu");
        form.reset()
        console.log("hola")
         axios.get(`${server}/inmuebles_viewset/`,configin)
            .then(function (response) { 
            data_inmuebles = response.data
            // Manejar respuesta exitosa
            for (let i = 0; i < data_inmuebles.length; i++){
                console.log("for",data_inmuebles[i].user)
            }
            var cuerpo = document.getElementById("table_body")
            let res = response.data
            if(res.length > 0 ){
            console.log("res",res)
    

            res.forEach(inmueble =>{
                console.log(inmueble.id);
            });
            for(let i = 0; i < res.length;i++)
        {
            var fecha_actualizacion = res[i].created
            var fa = fecha_actualizacion.split('T')
            var f_hora =  fa[1].split('.')
            fecha_actualizacion = fa[0] + " " + "a las " +" "+f_hora[0]

            let tr = document.createElement('tr')
            let col1 = document.createElement('td')
            let col2 = document.createElement('td')
            let col3 = document.createElement('td')
            let col4 = document.createElement('td')
            let col5 = document.createElement('td')
            let col6 = document.createElement('td')
            let col7 = document.createElement('td')
            let col8 = document.createElement('td')
            let check = document.createElement("input")
            check.setAttribute("type","checkbox");
            check.setAttribute("class","form-check-input");

            col1.appendChild(check);
            col2.innerHTML = `<span class="fw-normal ">${i + 1}</span>`
            col3.innerHTML = `<a class="d-flex align-items-center">
                                <div class="d-block">
                                    <span class="fw-bold" onClick="detalles_inmueble('${res[i].slug}')">${res[i].alias_inmueble}</span>
                                </div>
                              </a>`
            col4.innerHTML = `<span class="fw-normal ">${res[i].tipo_inmueble}</span>`
            col5.innerHTML = `<span class="fw-normal ">${fecha_actualizacion}</span>`
            col7.innerHTML = `${res[i] && res[i].inmuebles && res[i].inmuebles[0] ?`
                                        <div class="button-container d-flex justify-content-center">                                       
                                                <button type="button" id="ver_inventario" class="btn btn-color same-size-btn" data-bs-toggle="modal" data-bs-target="#inventario_mobiliario" data-tooltip="Ver inventario mobiliario"onClick="ver_mobiliario('${res[i].slug}')";>
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                                        <path d="M11.854 10.146A5.5 5.5 0 1 1 10 10l-.132.003a.5.5 0 0 1-.372-.837L9.707 8.5A4.5 4.5 0 1 0 8.5 9.707l-.333.333a.5.5 0 0 1-.837-.372L7 10a5.5 5.5 0 0 1 4.854.146zm1.607 4.056a.5.5 0 0 1-.707 0l-3-3a.5.5 0 0 1 0-.708l.354-.353a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-.354.353zM10.5 6A3.5 3.5 0 1 1 7 2.5 3.504 3.504 0 0 1 10.5 6z"/>
                                                    </svg>
                                                Ver Docs
                                                </button>
                                            </div>
                                        `: `
                                        <div class="button-container d-flex justify-content-center">                                       
                                                <button type="button" id="agregar_inventario" class="btn btn-primary" data-tooltip="Agregar inventario mobiliario" data-bs-toggle="modal" data-bs-target="#total_mobiliario" onClick="MobiliarioModal('${res[i].id}')";>
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                                                        <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"></path>
                                                        <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"></path>
                                                    </svg>
                                                Subir
                                                </button>
                                            </div>
                                        `}`;

            col6.innerHTML =  `
            <div class="custom-select-wrapper" style="width: 70%; margin: 0 auto;">
                ${res[i].estatus_inmueble === "Disponible" ? `<button  type="button" class="btn btn-success" style="background-color:green; color:white;">${res[i].estatus_inmueble}</button>` 
                : res[i].estatus_inmueble === 'Rentado' ? `<button type="button" class="btn btn-danger">${res[i].estatus_inmueble}</button>`
                : `<button type="button" class="btn btn-warning">${ res[i].estatus_inmueble}</button>`}
            </div> `
                                
                            

            col8.innerHTML = `<div class="btn-group dropstart">
                                <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split " data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                                    <span class="visually-hidden">Toggle Dropdown</span>
                                </button>
                                
                                <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1">
                                    <a class="dropdown-item d-flex align-items-center"onClick="editar('${res[i].slug}')">
                                        <svg xmlns="http://www.w3.org/2000/svg" title="Editar" data-bs-toggle="tooltip" fill="currentColor" fill-rule="evenodd"  class="icon icon-xs bi bi-pencil ms-1" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                        </svg>&nbsp;Editar
                                    </a>

                                    <a class="dropdown-item d-flex align-items-center" onClick="eliminarInmueble('${res[i].slug}')">
                                        <svg class="icon icon-xs text-danger ms-1" title="Eliminar" data-bs-toggle="tooltip" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                        &nbsp;Borrar
                                    </a>        
                                    
                                </div>   
                                </div>`;
            tr.appendChild(col1);
            tr.appendChild(col2);
            tr.appendChild(col3);
            tr.appendChild(col4);
            tr.appendChild(col5);
            tr.appendChild(col6);
            tr.appendChild(col7);
            tr.appendChild(col8);
            cuerpo.appendChild(tr);
        }
            console.log(response);
        } else{
            cuerpo.innerHTML = '<td colspan="7"><center><h1>Sin Registro <img src="https://cdn-icons-png.flaticon.com/512/929/929457.png"style="width:50px;height:50px"></h1></center></td>'
            console.log("sin datos")
        } 
        })
        .catch(function (error) {
          // manejar error
          console.log(error);
        })
        .finally(function () {
          // siempre sera executado
        });
}


function ver_detalles(id){
    console.log("data_arrendador",data_arrendador)
    let info = data_arrendador.filter(arrendador=>arrendador.id==id)
    localStorage.setItem('data_inquilino', JSON.stringify(info[0]));
    console.log("local",localStorage)
    console.log("info",info)
    window.location.href = `/detalles_inquilino/${id}`
}

  // function registro
{% comment %} const btnSubmit = document.getElementById("finalizar1") {% endcomment %}
let formulario = {};


const eliminarInmueble = async (inmueble) =>{
    Swal.fire({
            title: '¿Éstas seguro?',
            text: "No podrás revertir esta acción",
            icon: 'warning',
            reverseButtons: true,
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, elimina esto',
            cancelButtonText: 'Cancelar'
        }).then( async (result) => {
            if (result.isConfirmed) {
                try{
                    await eliminarInmueble_(inmueble);
                    Swal.fire({
                        icon: 'success',
                        title: '¡Inmueble Eliminado!',
                        text: 'Se ha eliminado de forma exitosa.',
                        showConfirmButton: false,
                        timer: 2200
                    }).then(()=>{
                        location.reload();
                    }).cath((error)=>{
                        console.log(error);
                    })
                }catch(error){
                    console.log(error);
                }
            }
        })
}

const eliminarInmueble_ = async (slug) =>{
    try{
        const response = await axios.delete(`${server}/inmuebles_viewset/${slug}/`,configin);
        console.log("Inmueble eliminado correctamente");
    }catch(error){
        console.log(error)
    }
}

</script>

<script>

function editar(slug) {
    axios.get(`${server}/inmuebles_viewset/${slug}/`, {
        headers: {'Authorization': `Token ${localStorage.getItem('token')}`}
    })
    .then(response => {
        console.log(response.data);
        localStorage.setItem('inmuebles', JSON.stringify(response.data));
        window.location = `/editar_inmuebles/${slug}/`;
    })
    .catch(error => {
        console.log(error);
    });
}

const detalles_inmueble = async (slug) => {
    try{
        const response = await detalles_inmueble_(slug);
        console.log(response);
        localStorage.setItem('inmuebles', JSON.stringify(response));
        window.location = `/detalles_inmuebles/${slug}/`;
    } catch(error){
        console.log(error)
    }
};

const detalles_inmueble_ = (slug) => {
    return axios.get(`${server}/inmuebles_viewset/${slug}/`, configin)
        .then(response => response.data)
        .catch(error => Promise.reject(error));
}

</script>
<script>
// Obtener elementos del DOM
var form_mobiliario = document.getElementById("form_mobiliario")
form_mobiliario.reset()
function MobiliarioModal(id){
    console.log("Llega a agregar mobiliario")
    var mobiliario = [ "sofas", "sillones", "mesas", "sillas", "bancos", "camas", "cabeceras", "armarios", "tocadores", "colchones", "almohadas", "vitrina", "escritorios", "comodas", "muebles_de_televisor", "estufas", "refrigerador" ]
    html = `
      <input type="text" readonly class="form-control-plaintext" id="inmuebles" name="inmuebles" value="${id}" hidden>`
    for(var i of mobiliario){
        console.log("Esta entrando al for")
        var primeraPalabra = i.split("_")[0]; // Obtener la primera palabra antes del guión bajo
        var primeraPalabraMayuscula = primeraPalabra.charAt(0).toUpperCase() + primeraPalabra.slice(1);
        html += `<div class="row justify-content-center">
                        <div class="col-md-3 border-end  border-start">
                            <div class="mb-3">
                                <div class="form-check">
                                    <label class="form-check-label" for="mostrar_select_${i}">
                                        ${i == 'muebles_de_televisor' ? 'Muebles Televisor' : primeraPalabraMayuscula}
                                    </label>
                                    <input class="form-check-input" type="checkbox" id="mostrar_select_${i}">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-5 border-end">
                            <div class="mb-3 d-none" id="select_${i}">
                                <label for="selectOption_${i}" class="form-label">Estado del ${i}</label>
                                <select class="form-select " id="${i}" name="${i}">
                                    <option selected value="">Selecciona una opción</option>
                                    <option value="Nuevo">Nuevo <span class="highlight">(Menor a un año)</span></option>
                                    <option value="Seminuevo">Seminuevo (Mayor a un año menor a 5)</option>
                                    <option value="Viejo">Viejo (Mayor a 5 años)</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-3 border-end">
                            <div class="mb-3 d-none" id="cantidad_${i}">
                                <label for="cantidad_${i}" class="form-label">Cantidad</label>
                                <input type="text" class="form-control" id="cantidad_${i}" name="cantidad_${i}" aria-describedby="emailHelp">
                                <div class="form-text">Cantidad</div>
                            </div>
                        </div>
                    </div>
                    <hr class="my-4">`
    }
    html += `<div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="submit" class="btn btn-primary" id="enviar_datos_mobiliario">Enviar</button>
            </div>`

    $("#form_mobiliario").append(html)

    // Delegar el evento de cambio a todos los elementos con ID que comienza con "mostrar_select_"
    $(document).on('change', '[id^="mostrar_select_"]', function() {
        var id = this.id; // Obtener el ID del elemento que desencadenó el evento
        var selectId = id.replace('mostrar_select_', 'select_'); // Construir el ID del elemento select
        var cantidadId = id.replace('mostrar_select_', 'cantidad_'); // Construir el ID del elemento cantidad

        var selectElement = document.getElementById(selectId);
        var cantidadElement = document.getElementById(cantidadId);

        if (this.checked) {
            selectElement.classList.remove('d-none'); // Mostrar el select
            cantidadElement.classList.remove('d-none');
        } else {
            selectElement.classList.add('d-none'); // Ocultar el select
            cantidadElement.classList.add('d-none');
        }
    });

}


const formulario_mobiliario_datos = document.getElementById("form_mobiliario");
formulario_mobiliario_datos.addEventListener("submit", async function(event) {
  event.preventDefault();
  var data = $(formulario_mobiliario_datos).serializeArray();
  console.log("Soy data", data);
  const formData = new FormData();
  data.forEach(function(item) {
    formData.append(item.name, item.value);
  });

  try {
    const response = await agregarMobiliario(formData);
    console.log(response);
    // Mostrar la alerta de éxito
    Swal.fire({
      icon: 'success',
      title: '¡Agregado correctamente!',
      text: 'Se agregaron los documentos de forma exitosa.',
      showConfirmButton: false,
      timer: 2000
    });

    // Recargar la página después de 2 segundos
        setTimeout(function() {
            location.reload();
        }, 1500);
    } catch (error) {
        console.log(error);
    }
});

async function agregarMobiliario(data) {
    try {
        return await axios.post(`${server}/MobiliarioCantidad/`, data, configin);
    } catch (error) {
        throw new Error(error);
    }
}

//Envio de datos usando  promesas--------------------------------------------------------------------------------------------
const submit_post = document.getElementById("finalizar1");

submit_post.addEventListener("click", function (event) {
    event.preventDefault();
    enviarSolicitud();
});

async function enviarSolicitud() {
    try{
        const config2 = {
            headers: {
                'X-CSRFToken': csrftoken,
                'Authorization': `Token ${localStorage.getItem('token')}`,
                'Content-Type': 'multipart/form-data'
            }
        };
        console.log("Esta entrando a enviar datos");
        const formData = new FormData();
        formData.append('imagenes', $('#imagenes')[0].files[0]);
        formData.append('alias_inmueble',$('#alias_inmueble').val().trim())
        formData.append('estatus_inmueble',$('#estatus_inmueble').val().trim())
        formData.append('renta',$('#renta').val().trim())
        formData.append('venta',$('#venta').val().trim())
        formData.append('clave_catastral',$('#clave_catastral').val().trim())
        formData.append('estatus_gravamen',$('#estatus_gravamen').val().trim())
        formData.append('valor_catastral',$('#valor_catastral').val().trim())
        formData.append('cuota_mantenimiento',$('#cuota_mantenimiento').val().trim())
        formData.append('tipo_inmueble',$('#tipo_inmueble').val().trim())
        formData.append('uso_inmueble',$('#uso_inmueble').val().trim())
        formData.append('op_compra',$('#op_compra').val().trim())
        formData.append('municipio_alcaldia',$('#municipio_alcaldia').val().trim())
        formData.append('colonia',$('#colonia').val().trim())
        formData.append('postal_code',$('#postal_code').val().trim())
        formData.append('estado',$('#estado').val().trim())
        formData.append('calle',$('#calle').val().trim())
        formData.append('numeroExterior',$('#numeroExterior').val().trim())
        formData.append('numeroInterior',$('#numeroInterior').val().trim())
        formData.append('calle1',$('#calle1').val().trim())
        formData.append('calle2',$('#calle2').val().trim())
        formData.append('referencias',$('#referencias').val().trim())
        formData.append('n_baños',$('#n_baños').val().trim())
        formData.append('n_medios_baños',$('#n_medios_baños').val().trim())
        formData.append('n_recamaras',$('#n_recamaras').val().trim())
        formData.append('n_pisos',$('#n_pisos').val().trim())
        formData.append('estacionamiento_cajones',$('#estacionamiento_cajones').val().trim())
        formData.append('terrenoConstruido',$('#terrenoConstruido').val().trim())
        formData.append('terrenoTotal',$('#terrenoTotal').val().trim())
        formData.append('año_contruccion',$('#año_contruccion').val().trim())
        formData.append('garage',$('#garage').val().trim())
        formData.append('bodega',$('#bodega').val().trim())
        formData.append('terraza',$('#terraza').val().trim())
        formData.append('alberca',$('#alberca').val().trim())
        formData.append('cocina',$('#cocina').val().trim())
        formData.append('amueblado',$('#amueblado').val().trim())
        formData.append('cuarto_lavado',$('#cuarto_lavado').val().trim())
        formData.append('gym',$('#gym').val().trim())
        formData.append('bar',$('#bar').val().trim())
        formData.append('restaurante_bar',$('#restaurante_bar').val().trim())
        formData.append('sala_cine',$('#sala_cine').val().trim())
        formData.append('salon_estudio',$('#salon_estudio').val().trim())
        formData.append('area_comun',$('#area_comun').val().trim())
        formData.append('sala_juegos',$('#sala_juegos').val().trim())
        formData.append('salon_eventos',$('#salon_eventos').val().trim())
        formData.append('espacio_deportivo',$('#espacio_deportivo').val().trim())
        formData.append('busisness_center',$('#busisness_center').val().trim())
        formData.append('roof_garden',$('#roof_garden').val().trim())
        formData.append('otroA',$('#otroA').val().trim())
        formData.append('internet',$('#internet').val().trim())
        formData.append('electricidad',$('#electricidad').val().trim())
        formData.append('agua_potable',$('#agua_potable').val().trim())
        formData.append('televisionCable',$('#televisionCable').val().trim())
        formData.append('gas',$('#gas').val().trim())
        formData.append('lineaTelefonica',$('#lineaTelefonica').val().trim())
        formData.append('drenaje',$('#drenaje').val().trim())
        formData.append('seguridad',$('#seguridad').val().trim())
        formData.append('camarasSeguridad',$('#camarasSeguridad').val().trim())
        formData.append('area_juegos',$('#area_juegos').val().trim())
        formData.append('otroS',$('#otroS').val().trim())
        formData.append('descripcion',$('#descripcion').val().trim())
        formData.append('arrendador',$('#arrendador').val().trim())
        formData.append('reglamento_interno',$('#reglamento_interno')[0].files[0])

        //var formData = $('#tuFormulario').serialize();
        //formData.append('imagenes', $('#imagenes')[0].files[0]);
        //formData.append('reglamento_interno', $('#reglamento_interno')[0].files[0]);

        try {
            const response = await axios.post(`${server}/inmuebles_viewset/`, formData, config2);
            console.log(response.data); // Manejar la respuesta del servidor
            setTimeout(function() {
                location.reload();
            }, 2200);
        } catch (error) {
            console.log(error); // Manejar los errores de la solicitud
        }
    } catch (error) {
        console.log(error); // Manejar cualquier otro error que pueda ocurrir
    }

}
// ------------------------------------------------------------------------------------------------------

$(document).on('change', 'select.select_status', function() {
  var slug = $(this).attr('id'); // Obtener el valor del ID del elemento select
  var value = $(this).val();

    $.ajax({
        type: 'PUT',
        url: `${server}/actualizar_status/${slug}/`,
        headers: { 'Authorization': `Token ${localStorage.getItem('token')}` },
        data: { estatus_inmueble: value }, // Pasar el valor del ID en los datos de la petición
        mode: 'same-origin',
        success: function(response) {
        // Lógica a realizar en caso de éxito
        console.log(response);
        },
        error: function(xhr, status, error) {
        // Lógica a realizar en caso de error
        console.error(error);
        }
    });
});
    

function recargar_pagina(){
    location.reload();
}
{% comment %} url: `${server}/Arrendador/?tipo_persona=${valor}`, {% endcomment %}

function ver_mobiliario(slug){
    verMobiliario(slug);
}

const verMobiliario = async(slug) =>{
    try{
        const response = await axios.get(`${server}/inmuebles_viewset/${slug}/`, configin)
            var res = response.data
                var mobiliario = res.inmuebles[0].inmuebles
                console.log("Soy response", mobiliario)
                var tabla = `<table class="table table-hover" id="table-mobiliario">
                                <caption>Lista del mobiliario existente</caption>
                                    <thead id="thead-mobiliario">
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Mueble</th>
                                            <th scope="col">Estado</th>
                                            <th scope="col">Cantidad</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbody-mobiliario">
                            `
                    var contador = 1;
                    mobiliario.forEach(function(item) {
                        for (var key in item) {
                            var value = item[key];

                            if (key.includes('cantidad_') && value !== 0) {
                                tabla += `
                                    <td>${value}</td></tr>`;
                                    contador++;
                            } else if (!key.includes('id') && !key.includes('inmuebles') && !key.includes('user') && value !== 'Vacio') {
                                tabla += `
                                        <tr>
                                            <th scope="row">${contador}</th>
                                            <td>${key}</td>
                                            <td>${value}</td>`;
                            }
                        }
                });

                tabla += `</tbody></table>`;
                $('#table_mobiliaria').html(tabla);
    }catch(error){
        console.log(error);
    }

}

</script>

{% comment %}   ------------------------------------------- Borrar ----------------------------------------------------------------------- {% endcomment %}
<script>

$(document).ready(function() {
  // Obtener el checkbox y los elementos de entrada
  var checkbox = $('#ver_cuota_mantenimiento');
  var inputs = $('#cuota_mantenimiento, #span_cuota_mantenimiento');

  // Ocultar los elementos de entrada por defecto
  inputs.hide();
    console.log("Esta llegando a cuota de mantenimiento")
  // Escuchar el evento de cambio del checkbox
  checkbox.on('change', function() {
    if (checkbox.is(':checked')) {
      // Mostrar los elementos de entrada si el checkbox está seleccionado
      inputs.show();
    } else {
      // Ocultar los elementos de entrada si el checkbox no está seleccionado
      inputs.hide();
    }
  });
});

{% comment %} $(document).ready(function(){
    var checkbox = document.getElementById("ver_cuota_mantenimiento");
    var inputs = document.getElementById("cuota_mantenimienot")
})  {% endcomment %}
{% comment %} -------------------------------------------------------------------- {% endcomment %}

{% comment %} function esPalindromo(palabra){
    const cadena_normalizada = palabra.toLowerCase().replace(/\s/g, '');
    const cadena_invertida = palabra.split('').reverse().join('');

    return cadena_normalizada === cadena_invertida;
}

const personas = [
  { nombre: 'Juan', edad: 25 },
  { nombre: 'María', edad: 30 },
  { nombre: 'Pedro', edad: 20 }
];

function ordenarObjeto(personas, edad){
    return personas.sort((a, b) => a[edad] - b[edad]);
}

function sumaDigitos(numero){
    suma = 0;

    while(numero !== 0){
        suma += numero % 10
        numero = Math.floor(numero / 10 );
    }
    return suma;
}

function numeroPrimos(numero){
    const primos = [];

    for( let i = 2; i <= numero ; i++){
        if(esPrimo(i)){
            primos.push(i);
        }
    }
}
function esPrimo(numero){
    if(numero <= 1){
        return false;
    }

    for(let i = 0; i < Math.sqrt(numero); i++){
        if(numero % i === 0){
            return false;
        }
    }
    return true;
    
}



function obtenerFrecuencia(palabra){
    const frecuencia = {}
    for(let i = 0; i < palabra.length; i++){
        const letra = palabra[i];
        frecuencia = (frecuencia[i] || 0) + 1;
    }
    return frecuencia;
}

function obtenerFecha(){
    const fecha = new Date();
    const dia = String(fecha.getDate()).padStart(2, '0');
    const mes = String(fecha.getMonth() + 1).padStart(2, '0');
    const año = fecha.getFullYear();
    return  `${dia}/${mes}/${anio}`;
}

function numeroMax (arr){
    return Math.max(...arreglo);
}

const numeros = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const obtenerNumerosPares = (numeros) => numeros.filter(numero => numero % 2 === 0);
console.log(obtenerNumerosPares(numeros))

const obtenerNumerosPares = numeros => numeros.filter(numero => numero % 2 === 0);

const obtenerNumerosPares = numeros => numeros.filter(numero => numero % 2 === 0);

function obtenerFrecuencia(palabra){
    const frecuencia = {}
    for(let i = 0; i < palabra.length; i++){
        const letra = palabra[i];
        frecuencia = (frecuencia[i] || 0) + 1;
    }
    return frecuencia;
}
const elementos = [1, 2, 3, 2, 4, 5, 1, 3, 6];
const contarFrecuencia = (elementos) =>
    elementos.reduce((contador, elemento) =>{
        contador[elemento] = ((contador[elemento] || 0) + 1);
        return contador;
    }, {})

const elementos = [1, 2, 3, 2, 4, 5, 1, 3, 6];
function obtenFrecuencia(elementos){
    const frecuencia = {};
    for(let i = 0; elementos.length; i++){
        const numero = elementos[i]
        frecuencia[numero] = ((frecuencia[numero] || 0) + 1)
    }
    return frecuencia;
}


function encontrarNumeroFaltante(arreglo){
    const suma_total = (arreglo.length + 1) * (arreglo[0] + arreglo[arreglo.length - 1] / 2)
    const suma_arreglo = arreglo.reduce((suma, numero) => suma + numero, 0);
    return suma_total - suma_arreglo;
}

interface Vendible(){
    double calcularPrecio();
}

abstract class Producto implements Vendible(){
    private String nombre;
    private double precio;

    public Producto(String nombre, double precio){
        this.nombre = nombre;
        this.precio = precio;
    }

    public String getNombre(){
        return nombre;
    }

    public double getPrecio(){
        return precio;
    }

    public abstract double calcularPrecio();

}

class Celular extends Producto{
    private String marca;

    public Celular(String nombre, double precio, String marca){
        super(nombre, precio);
        this.marca = marca;
    }

    @override
    public double calcularPrecio(){
        return getPrecio * 0.9;
    }
}

public class Main{
    public static void main(String[] args){
        Celular celular = new Celular("Smartphone", 1000, "Samsung");
        List<Vendible> productos = new ArrayList<>();
        productos.add(celular);
        for(Vendible producto : productos){
            System.out.println("Producto: " + producto.getClass().getSimpleName());
            System.out.println("Precio final: $" + producto.calcularPrecio());
            System.out.println();
        }
    }
}

interface Figura{
    double calcularArea();
}

class Circulo implements Figura{
    private double radio;

    public Circulo(double radio){
        this.radio = radio;
    }

    @override
    public double CalcularArea(){
        return Math.PI * Math.pow(radio, 2);
    }
}

class Triangulo implements Figura{
    private double base;
    private double altura;

    public Triangulo(double base, double altura){
        this.base = base;
        this.altura = altura;
    }
    
    @override
    public double calcularArea(){
        return (base * altura) / 2;
    }

}

public class Main{
    public static void main(String[] args){
        Circulo circulo = new Circulo(5);
        Triangulo triangulo = new Triangulo(4, 6);
    }

    List<Figura> figuras = new ArrayList<>();
    figuras.add(circulo);
    figuras.add(triangulo);

    for(Figura figura : figuras){
        double area = figura.calcularArea();
        System.out.println("El area es: " + area);
    }
} {% endcomment %}



function getWeatherData(city){
    const api_key = '72g7bws8w'
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`;

    return new Promise ((resolve, reject) =>{
        const xhr = new XMLHttpRequest();
        xhr.open('GET', url, true);
        xhr.onload = function (){
            if(xhr.status === 200){
                const data = JSON.parse(xhr.responseText);
            }else{
                reject(xhr.statusText);
            }
        }
        xhr.onerror = function () {
      reject('Error de red');
    };
    xhr.send();
    });
}

async function showWeather(city){
    try{
        const clima = await getWeatherData(city);
    }catch (error) {
        console.log(error);
    }
}




function obtenerDatos(){
    const url = 'https://api.example.com/data';

    return axios.get(url)
                .then(response => response.data)
                .catch(error =>{
                    console.error('Error', error);
                });
}

obtenerDatos()
    .then(data => console.log(data);)
    .catch(error => console.log(error);)

public class EjemploPromesas(){
    public static void obtenerDatos(){
        HttpClient httpClient = HttpClient.newHttpClient();
        HttpRequest request = HttpRequest.newBuilder().uri(URI.create("https://"))
        .GET()
        .build();
    }
}


async function obtenerPublicaciones(){
    try{
        const response = await fetch('https://jsonplaceholder.typicode.com/posts');
        if(!response.ok){
            throw new Error ('Error al obtener las publicaciones');
        }
        const data = await response.json();
        return data;
    }catch(error){
        console.log(error)
    }
}

async function imprimirTitulos(){
    try{
        const publicaciones = await obtenerPublicaciones();
        for (const publicacion of publicaciones){
            console.log(publicacion.title)
        }
        publicaciones.forEach((publicacion) =>{
            console.log(publicacion.title);
        });
        const titulos = publicaciones.map((publicacion) => publicacion.title)
    }catch(error){
        console.log(error);
    }
}

const sub = document.getElementById("submit");
sub.addEventListener('click', function(event){
    imprimirTitulos();
});

async function obtenerRepositorios(usuario){
    try{
        const respuesta_usuario = await fetch(`https://api.github.com/users/${usuario}`);
        const respuesta_repositorios = await fetch(`https://api.github.com/users/${usuario}/repos`);
        if (!respuesta_usuario.ok)
            throw new Error("Error");
        
        const datos_usuario = await respuesta_usuario.json();
        const respuesta_repositorios = await respuesta_repositorios.json();

        return {usuario: datos_usuario, repositorios: respuesta_repositorios}
    }catch(error){
        console.log(error);
    }
}


async function imprimirRepositorios(usuario){
    try{
        const {repositorios} = await obtenerRepositorios(usuario);
        repositorios.forEach((repositorio) => {
            console.log(repositorio.name);
        })
    }catch(error){
        console.log(error);
    }
}

const nombre_usuario = "octoc"
imprimirRepositorios(nombre_usuario);

async function obtenerInformacionUsuarios(){
    try{
        const response = await axios.get('https://jsonplaceholder.typicode.com/users');
        if(!response.data || !Array.isArray(response.data)){
            throw new Error("Datos de usuarios invalidos");
        }
        return response.data;
    }catch (error){
        console.log(error);
    }
}


function mostrarInformacion(usuarios){
    console.log("Informacion");
    usuarios.forEach(usuario =>{
        console.log(
           `
            Nombre: ${usuario.name}
            Email: ${usuario.email}
            Ciudad: ${usuario.address.city}
            Website: ${usuario.website}
            ---`);
    });
}

async function main(){
    try{
        const usuarios = await obtenerInformacionUsuarios()
        mostrarInformacion(usuarios);
    }catch(error){
        console.log(error);
    }
}

main();

const baseUrl = 'https://jsonplaceholder.typicode.com';

async function obtenerPublicacionesUsuario(id){
    try{
        const response = await axios.get(`${baseUrl}/posts?userId=${userId}`);
        return response.data;
    }catch(error){
        console.log(error);
    }
}

function mostrarPublicaciones(publicaciones){
    const publicaciones_list = document.getElementById('publicaciones');
    publicaciones.forEach(publicacion =>{
        const li = document.createElement('li');
        li.textContent = `${publicacion.title} - ${publicacion.body}`;
        publicaciones_list.appendChield(li);
    });
}

obtenerPublicacionesUsuario(1)
    .then(publicaciones => mostrarPublicaciones(publicaciones))
    .catch(error => console.log(error))






</script>

{% comment %} <script src="/static/assets/js/inmuebles.js"></script> {% endcomment %}
   
{% endblock javascripts %}
