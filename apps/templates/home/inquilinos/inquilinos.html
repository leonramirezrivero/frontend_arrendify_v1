{% extends "layouts/base.html" %}

{% block title %} Inquilinos {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<link href="/static/assets/css/ms.css" rel="stylesheet"/>
{% endblock stylesheets %}

{% block content %}

<div id="cargar_tabla" class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center py-4" style="background-color:#edede9;">
    <div class="d-block mb-4 mb-md-0" style="margin-left:10px">
        <h1 class="h1">Inquilinos </h1>
        <p class="mb-0">Listado de inquilinos</p>
    </div>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a class="btn btn-sm btn-gray-800 d-inline-flex align-items-center me-2" data-bs-toggle="modal" data-bs-target="#reg_inq">
            <svg class="icon icon-xs me-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
            Nuevo Inquilino
        </a>
    </div>
  </div>

</div>
<div class="table-settings mt-2 mb-4">
  <div class="row justify-content-between align-items-center">
      <div class="col-9 col-lg-8 d-md-flex">
          <div class="input-group mt me-2 me-lg-3 fmxw-300">
              <span class="input-group-text">
                  <svg class="icon icon-xs" x-description="Heroicon name: solid/search" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path>
                  </svg>
              </span>
              <input type="text" class="form-control" placeholder="Buscar por Nombre">
            </div>
            <select class="form-select fmxw-200 d-none d-md-inline" aria-label="Message select example 2">
                <option selected>Todos</option>
              <option value="1">Persona Moral</option>
              <option value="2">Persona Física</option>
            </select>
        </div>
    </div>
</div>
<div class="card card-body shadow border-0 table-wrapper table-responsive"><!-- podemos agregar la clase => table-responsive-->
    <table  class="table user-table table-hover align-items-center mb-5"> <!--id="datatable"-->
        <thead>
            <tr>
                <th class="border-bottom"><input class="form-check-input" type="checkbox" value="" id="flexCheckDefault"></th>
                <th class="border-bottom">ID</th>
                <th class="border-bottom">Nombre completo</th>						
                <th class="border-bottom">Fecha de Registro</th>
                <th class="border-bottom">Regimen Fiscal</th>
                <th class="border-bottom">Estatus</th>
                <th class="border-bottom">Fiador</th>
                <th class="border-bottom">Archivos</th>
                <th class="border-bottom">Acción</th>
                <th class="border-bottom"></th>
            </tr>
        </thead>
        <tbody id="table_body">
               
        </tbody>
        
    </table>
    
</div>


<!-- start of Modal -->
<div id="Modal Registro">
    <p id="carga_plantar" style="display:none;">
    <div class="modal fade" id="reg_inq" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" style="height:15px" id="exampleModalLabel">Registro Inquilino</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="padding:0;">
    <div class="container">
        <div class="card">
            <form id="Formu" class="form" class="needs-validation" novalidate>
                {% csrf_token %}
                <div class="left-side">
                    <div class="left-heading">
                        <h3>Introduce la información Solicitada</h3>
                    </div>
                    <div class="steps-content" style="margin-bottom:-50px;">
                        <h3>Paso <span class="step-number">1</span></h3>
                    
                    </div>
                    <ul class="progress-bar" style="background:none;">
                        <li id="li1" class="active">Inicio</li>
                        <li id="li2">Paso 2</li>
                        <li id="li3">Paso 3</li>
                        <li id="li4">Paso 4</li>
                        <li id="li5">Paso 5</li>
                        <li id="li6">Paso 6</li>
                        <li id="li7">Paso 7</li>
                        <li id="li8">Paso 8</li>
                        <li id="li8">Paso 9</li>
                    </ul>
                </div>
                <div class="right-side">
                    <div id="step1" class="main active">
                        <small><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                        </svg></small>
                        <div class="text">
                            <h2>Datos Personales</h2>
                        </div>
                        <div class="input-div">
                            <select class="form-select" id="p_fom" onChange="fomOnchange()" oninput="prueba2(this)" name="p_fom" aria-label="Default select example">
                                <option selected>Selecciona un opción</option>
                                <option value="Persona Fisica">Persona Fisica</option>
                                <option value="Persona Moral">Persona Moral</option>
                            </select>
                        </div>
                        <hr class="hr" />
                        <div id="FM" style="display:none;">
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" name="nombre" id="nombre" oninput="prueba2(this)" requerido>
                                    <span>Nombre(s)</span>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" name="apellido" id="apellido" oninput="prueba2(this)" requerido>
                                    <span>Apellido Paterno</span>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" name="apellido1" id="apellido1" oninput="prueba2(this)" requerido>
                                    <span>Apellido Materno</span>
                                </div>
                            </div>
                            
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="rfc" name="rfc" maxlength="13" style="text-transform:uppercase" oninput="prueba2(this)" onkeyup="javascript:this.value=this.value.toUpperCase();" requerido>
                                    <span>RFC</span>
                                </div>
                                <div class="input-div">
                                    {% comment %} <span>Estado Civil</span> {% endcomment %}
                                    <select class="form-select" id="estado_civil" onChange="mostrarOnChange()" oninput="prueba2(this)" placeholder="estado_civil" name="estado_civil" aria-label="Default select example" requerido>
                                        <option selected>Estado Civil</option>
                                        <option value="Soltero">Soltero(a)</option>
                                        <option value="Casado">Casado(a)</option>
                                        <option value="Viudo">Viudo(a)</option>
                                        <option value="Bienes Mancomunados">Bienes Mancomunados</option>
                                        <option value="Bienes Separados">Bienes Separados</option>
                                        <option value="Union Libre">Union Libre</option>
                                    </select>
                                </div>
                                
                            </div>
                            <div class="row" id="datcon" style="Display:none;" >
                                <div class="input-text">
                                    <div class="input-div">
                                        <input type="text" id="n_conyuge" name="n_conyuge" oninput="prueba2(this)" >
                                        <span>Nombre(s) Cónyuge</span>
                                    </div>
                                    <div class="input-div"> 
                                        <input type="text" id="a_conyuge" name="a_conyuge" oninput="prueba2(this)" >
                                        <span>Apellido Paterno Cónyuge</span>
                                    </div>
                                    <div class="input-div"> 
                                        <input type="text" id="a1_conyuge" name="a1_conyuge" oninput="prueba2(this)">
                                        <span>Apellido Materno Conyuge</span>
                                    </div>
                                </div>
                            </div>       
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" name="numeroTel" id="numeroTel" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);" >
                                    <span>Numero Telefonico Fijo</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" name="numeroTel1" id="numeroTel1" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  requerido>
                                    <span>Celular</span>
                                </div>
                                <div class="input-div">
                                    <input type="text" id="email" name="email" type="email" placeholder="name@domain.com" oninput="javascript: prueba2(this); validarEmail(this);" requerido>
                                    <span>E-mail</span>
                                    <p style="float:right; color:red; font-size:10px;" id="msj_email"></p>
                                </div>
                            </div>                          
                            <div class="buttons mt-3">
                                <input class="btn btn-primary next_button" type="button" id="next1" onClick="javascript:recopilar();plantar3();checar();" value="Siguiente" >
                            </div>
                        </div>
                    </div>
                    <div id="step2" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-house-door-fill" viewBox="0 0 16 16">
                                <path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5Z"/>
                            </svg>
                        </small>
                        <div class="text">
                            <h2>Datos Domiciliarios</h2>
                            <p>Por favor introduce tus datos Domiciliarios.</p>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="calle" name="calle" oninput="prueba2(this)" requerido>
                                <span>Calle</span>
                            </div>
                            <div class="input-div">
                                <input class="form-control" type="tel" id="num_ext" name="num_ext" maxlength="5" oninput="prueba2(this)" requerido>
                                <span>Número Ext. </span>
                            </div>
                            <div class="input-div">
                                <input class="form-control" type="tel" id="num_int" name="num_int" oninput="prueba2(this)" >
                                <span>Número Int. </span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div"> 
                                <input type="text"id="colonia" name="colonia" oninput="prueba2(this)" requerido>
                                <span>Colonia</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="codigopostal" name="codigopostal" type="tel" maxlength="5" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  requerido>
                                <span>Código Postal</span>
                            </div>
                            <div class="input-div"> 
                                <input type="text" id="municipio_alcaldia" name="municipio_alcaldia" oninput="prueba2(this)" requerido>
                                <span>Municipio/Alcaldia</span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div"> 
                                <div class="input-div"> 
                                    <input type="text" id="estado" name="estado" oninput="prueba2(this)" requerido>
                                    <span>Estado/Ciudad</span>
                                </div>    
                            </div>
                            <div class="input-div">
                                <input id="referencias" name="referencias" type="text" oninput="prueba2(this)" equiere>
                                <span>Referencias</span>
                            </div>
                        
                        </div>
                    
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>
                    
                    <div id="step3" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-briefcase-fill" viewBox="0 0 16 16">
                                <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
                                <path d="M0 12.5A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5V6.85L8.129 8.947a.5.5 0 0 1-.258 0L0 6.85v5.65z"/>
                            </svg>
                        </small>
                        <div class="text">
                            <h2 id="tdde">Datos De Empleo</h2>
                            <p>Por favor introduce los campos solicitados.</p>
                        </div>
                        <div id="dde" style="display:none">
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="profesion" name="profesion" oninput="prueba2(this)" >
                                    <span>Profesión u Ocupación</span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" type="number" id="antiguedad" name="antiguedad" title="Especifique en Años" data-bs-toggle="tooltip" data-bs-placement="bottom" oninput="prueba2(this)" >
                                    <span>Antiguedad</span>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" id="puesto" name="puesto" oninput="prueba2(this)" >
                                    <span>Puesto</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input class="form-control" type="tel" maxlength="10" id="tel_empleo" name="tel_empleo" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"   >
                                    <span>Número Teléfono Empresarial</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="tel" maxlength="10" id="ingreso_men" name="ingreso_men" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"   >
                                    <span>Ingreso Mensual</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="nombre_empresa" name="nombre_empresa" oninput="prueba2(this)" >
                                    <span>Empresa Donde Labora</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="email" id="email_empresarial" name="email_empresarial" oninput="javascript: prueba2(this); validarEmail(this);" >
                                    <span>Email Empresarial</span>
                                    <p style="float:right; color:red; font-size:10px;" id="msj_email"></p>
                                </div>
                                <div class="input-div" >
                                    <input class="form-control" type="tel" maxlength="10" id="cel_empleo" name="cel_empleo" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  >
                                    <span>Cel</span>
                                </div>
                            </div>
                            <hr class="hr" />
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="jefe" name="jefe" oninput="prueba2(this)" >
                                    <span>Jefe Inmediato</span>
                                </div>
                                <div class="input-div">
                                    <input type="text" id="puesto_jefe" name="puesto_jefe" title="Especifique el puesto de su jefe" data-bs-toggle="tooltip" data-bs-placement="bottom" oninput="prueba2(this)" >
                                    <span>Puesto</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text"id="pagina_web" name="pagina_web" oninput="prueba2(this)"  >
                                    <span>Página Web</span>
                                </div>
                                <div class="input-div">
                                    <input type="text" id="giro" name="giro" oninput="prueba2(this)" >
                                    <span>Giro</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input class="form-control" id="tel_jefe" name="tel_jefe" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  >
                                    <span>Teléfono Jefe</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="email" id="email_jefe" name="email_jefe" oninput="javascript: prueba2(this); validarEmail(this);" >
                                    <span>Email Jefe</span>
                                    <p style="float:right; color:red; font-size:10px;" id="msj_email"></p>
                                </div>
                            </div>
                        </div>

                        <div id="act_con" style="Display:none">
                        
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input type="text" id="empresa_constituida" name="empresa_constituida" oninput="prueba2(this)" >
                                    <span>Nombre Empresa Constituida</span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" type="number" id="escritura_numero_ac" name="escritura_numero_ac" oninput="prueba2(this)" >
                                    <span>Escritura Número</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" id="fecha_ac" name="fecha_ac" type="date" oninput="prueba2(this)" >  
                                    <span>Fecha</span>
                                </div>
                                <div class="input-div">
                                    <input type="text" id="nombre_notario_ac" name="nombre_notario_ac" oninput="prueba2(this)" >
                                    <span>Nombre de Notario</span>
                                </div>
                            </div>
                            
                            <div class="input-text">
                                <div class="input-div"> 
                                    <div class="row" style="margin-left:5px;">
                                        <div class="form-check" >
                                            <input class="form-check-input" type="radio" id="coe" name="coe" onChange="prueba2(this)" value="CDMX">
                                            <label class="form-check-label" for="coe">CDMX</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" id="coe" name="coe" onChange="prueba2(this)" value="Estado de México">
                                            <label class="form-check-label" for="coe">Estado de México</label>
                                        </div>                                         
                                    </div>  
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input class="form-control" type="number" id="folio_mercantil" name="folio_mercantil" oninput="prueba2(this)">
                                    <span>Folio Mercantil</span>
                                </div>
                            </div>
                        </div> 
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>
                    
                    <div id="step4" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-building-fill-check" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514Z"/>
                                <path d="M2 1a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7.256A4.493 4.493 0 0 0 12.5 8a4.493 4.493 0 0 0-3.59 1.787A.498.498 0 0 0 9 9.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .39-.187A4.476 4.476 0 0 0 8.027 12H6.5a.5.5 0 0 0-.5.5V16H3a1 1 0 0 1-1-1V1Zm2 1.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3 0v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5Zm3.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1ZM4 5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM7.5 5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Zm2.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5ZM4.5 8a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1Z"/>
                            </svg>
                        </small>
                        <div class="text" id="dir_emp2">
                            <h2>Direccion Empleo</h2>
                            <p>Por favor introduce los datos Domiciliarios de tu empleo.</p>
                        </div>
                        <div id="dir_emp" style="Display:none">
                            <div class="input-text">
                                <div class="input-div">
                                    <input type="text" id="calle_empleo" name="calle_empleo" oninput="prueba2(this)" >
                                    <span>Calle</span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="num_ext_empleo" name="num_ext_empleo" type="number" oninput="prueba2(this)" >
                                    <span>Número Ext.</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" id="num_int_empleo" name="num_int_empleo" type="number" oninput="prueba2(this)" >
                                    <span>Número Int.</span>
                                </div>
                                
                            </div>
                            <div class="input-text">
                                <div class="input-div"> 
                                    <input type="text" id="colonia_empleo" name="colonia_empleo" oninput="prueba2(this)" >
                                    <span>Colonia</span>
                                </div>
                                <div class="input-div">
                                    <input class="form-control" type="tel" id="codigo_postal_empleo" name="codigo_postal_empleo" maxlength="5" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  equiered>
                                    <span>Código Postal</span>
                                </div>
                                <div class="input-div"> 
                                    <input type="text" id="municipio_empleo" name="municipio_empleo" oninput="prueba2(this)" equiered>
                                    <span>Municipio/Alcaldia</span>
                                </div>
                            </div>
                            <div class="input-text">
                                <div class="input-div">
                                    <input id="ciudad_empleo" name="ciudad_empleo" type="text" oninput="prueba2(this)" equiered>
                                    <span>Estado/Ciudad</span>
                                </div>
                                
                            </div>
                            <div class="buttons button_space">
                                <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                                <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                            </div>
                        </div>

                        <div id="dir_pm" style="Display:none">
                            <div class="input-text">
                                <div class="text">
                                    <p> Procesando informacion</p>
                                    <h2>Porfavor Dale click en Siguiente</h2>
                                    <h2>Para continuar a REFERENCIAS DE ARRENDAMIENTO ANTERIOR</h2>
                                    <p></p>
                                </div>
                            </div>
                            <img src="https://i.pinimg.com/originals/b6/fd/18/b6fd1893a54478eb393d13c5d1994ef7.gif" style="width:350px; height:250px; margin-top:-20px;"></img>
                            
                            <div class="buttons button_space">
                                <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                                <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                            </div>
                        </div>
                    </div>
                    
                    {% comment %} referencias del Arrendatario {% endcomment %}
                    <div id="step5" class="main">
                        <small>
                            <img src="/static/assets/img/icons/aa.png" style="width:25px; height:25px;" alt="icon">
                        </small>
                        <div class="text">
                            <h2>Arrendatario Anterior</h2>
                            <p>Por favor introduce la Referencia del Arrendador Anterior.</p>
                        </div>
                        <hr class="hr" />
                        <div class="row mt-4">
                            <label >¿Haz rentado antes?</label>
                            <div class="input-text" style="margin-top:-10px;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="rentado_antes" onChange="javascript:aa(this);prueba2(this);" id="Simon" value="Si"  />
                                    <label class="form-check-label" style="margin-right:15px; font-weight: bold;">Si</label>
                                  </div>
                                  
                                  <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="rentado_antes" onChange="javascript:aa(this);prueba2(this);" id="Nelson" value="No" />
                                    <label class="form-check-label" style="font-weight: bold;">No</label>
                                  </div>
                            </div>
                            
                        </div>
                       
                        <div id="arren" style="display:none; margin-top:-30px;">
                        <hr class="hr" />
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="nombre_aa" name="nombre_aa" oninput="prueba2(this)">
                                <span>Nombre Completo</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="monto_renta_aa" name="monto_renta_aa" type="number" oninput="prueba2(this)" >
                                <span>Monto De Renta</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="telefono_aa" name="telefono_aa" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  >
                                <span>Teléfono</span>
                            </div>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input id="motivo_cambio" name="motivo_cambio" type="text" maxlength="100" oninput="prueba2(this)" equiered>
                                <span>Motivo Del Cambio</span>
                            </div>
                            <div class="input-div" style="position: relative; bottom: 23px;">
                                <label class="p-0 m-0" style="font-size:10px; font-weight:bold; " for="floatingSelect">¿Compartias La Renta?</label>
                               <select class="form-select" id="floatingSelect" name="renta_compartida" oninput="prueba2(this)" onChange="roomie()" aria-label="Floating label select example">
                                   <option selected value="No">No</option>
                                   <option value="Si">Si</option>
                                 </select>
                            </div>
                            <div class="input-div" id="nrc" style="display:none">
                                <input id="no_renta_compartida" name="no_renta_compartida" type="text" maxlength="100" oninput="prueba2(this)" equiered>
                                <span>¿Entre cuantas Personas?</span>
                            </div>
                       
                        </div>
                        <div class="input-text"style="margin-top:-15px;">
                            <div class="input-div">
                                <h2 class="h5 mb-0">Domicilio Inmueble Arrendado</h2>
                                <div id="dir_dia" >
                                    <div class="input-text">
                                        <div class="input-div">
                                            <input type="text" id="calle_dia" name="calle_dia" oninput="prueba2(this)" >
                                            <span>Calle</span>
                                        </div>
                                        <div class="input-div"> 
                                            <input class="form-control" id="num_ext_dia" name="num_ext_dia" type="number" oninput="prueba2(this)" >
                                            <span>Número Ext.</span>
                                        </div>
                                        <div class="input-div">
                                            <input class="form-control" id="num_int_dia" name="num_int_dia" type="number" oninput="prueba2(this)" >
                                            <span>Número Int.</span>
                                        </div>
                                        
                                    </div>
                                    <div class="input-text">
                                        <div class="input-div"> 
                                            <input type="text" id="colonia_dia" name="colonia_dia" oninput="prueba2(this)" >
                                            <span>Colonia</span>
                                        </div>
                                        <div class="input-div">
                                            <input class="form-control" type="tel" id="codigo_postal_dia" name="codigo_postal_dia" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  equiered>
                                            <span>Código Postal</span>
                                        </div>
                                        <div class="input-div"> 
                                            <input type="text" id="municipio_dia" name="municipio_dia" oninput="prueba2(this)" >
                                            <span>Municipio/Alcaldia</span>
                                        </div>
                                    </div>
                                    <div class="input-text" style="margin-bottom:-5px;">
                                        <div class="input-div">
                                            <input id="ciudad_dia" name="ciudad_dia" type="text" oninput="prueba2(this)" >
                                            <span>Estado/Ciudad</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        <div id="but_arren" style="display:none;" class="buttons button_space" style="margin-bottom:20px;">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                        </div>
                    </div>

                    <div id="step6" class="main">
                        <small>
                            <img src="/static/assets/img/icons/ref.png" style="width:25px; height:25px;" alt="icon">
                        </small>
                        <div class="text">
                            <h2>Referencias Personales</h2>
                            <p>Por favor introduce tus referencias personales.</p>
                        </div>
                        <h3>Referencia 1</h3>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="n_ref1" name="n_ref1" oninput="prueba2(this)" requerido>
                                <span>Nombre</span>
                            </div>
                            <div class="input-div"> 
                                <input type="text" id="p_ref1" name="p_ref1" oninput="prueba2(this)" requerido>
                                <span>Perentesco</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="tel_ref1" name="tel_ref1" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  requerido>
                                <span>Teléfono</span>
                            </div>
                        </div>
                        <hr class="hr" />
                        <h3>Referencia 2</h3>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="n_ref2" name="n_ref2" oninput="prueba2(this)" requerido>
                                <span>Nombre</span>
                            </div>
                            <div class="input-div"> 
                                <input type="text" id="p_ref2" name="p_ref2" oninput="prueba2(this)" requerido>
                                <span>Perentesco</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="tel_ref2" name="tel_ref2" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  requerido>
                                <span>Teléfono</span>
                            </div>
                        </div>
                        <hr class="hr" />
                        <h3>Referencia 3</h3>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="n_ref3" name="n_ref3" oninput="prueba2(this)" requerido>
                                <span>Nombre</span>
                            </div>
                            <div class="input-div"> 
                                <input type="text" id="p_ref3" name="p_ref3" oninput="prueba2(this)" requerido>
                                <span>Perentesco</span>
                            </div>
                            <div class="input-div"> 
                                <input class="form-control" id="tel_ref3" name="tel_ref3" type="tel" maxlength="10" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba2(this);"  requerido>
                                <span>Teléfono</span>
                            </div>
                        </div>
                        <div class="buttons button_space">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="javascript:recopilar();" value="Siguiente">
                        </div>
                    </div>
                    
                    <div id="step7" class="main">
                        <small>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="black" class="bi bi-person-fill-add" viewBox="0 0 16 16">
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Zm-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
                                <path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"/>
                            </svg>
                        </small>
                        <div class="text">
                            <h2>Inquilinos</h2>
                            <p>Por favor introduce los datos de las Personas que ocuparan el inmueble.</p>
                        </div>
                        <div class="row">
                            <div class="mb-2">
                                <select class="btn btn-primary" id="sel_inquilinos" name="no_inquilinos" onChange="javascript:No_Inquilinos(); prueba2(this);" aria-label="Default select example" >
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select> 
                        </div> 
                            <div class="input-text" id="inq_1" style="Display:; margin-bottom:-10px;">
                                <div class="input-div">
                                    <label for="n_inquilino1">Nombre</label>
                                    <input class="form-control" id="n_inquilino1" name="n_inquilino1" type="text" placeholder="Nombre Completo" oninput="prueba2(this)" requerido>
                                </div>
                            
                                <div class="input-div">
                                    <label for="p_inquilino1">Parentesco</label>
                                    <input class="form-control" id="p_inquilino1" name="p_inquilino1" type="text" placeholder="Parentesco" oninput="prueba2(this)"requerido>
                                </div>
                            </div> 
                        </div>
                        <div class="input-text"id="inq_2" style="Display:none; margin-bottom:-10px;">
                            <div class="input-div">
                                <label for="n_inquilino2">Nombre</label>
                                <input class="form-control" id="n_inquilino2" name="n_inquilino2" type="text" placeholder="Nombre Completo" oninput="prueba2(this)">
                            </div>
                            <div class="input-div">
                                <label for="p_inquilino2">Parentesco</label>
                                <input class="form-control" id="p_inquilino2" name="p_inquilino2" type="text" placeholder="Parentesco" oninput="prueba2(this)">
                            </div>
                        </div>
                        
                        <div class="input-text " id="inq_3" style="Display:none; margin-bottom:-10px;">
                            <div class="input-div">
                                <label for="n_inquilino3">Nombre</label>
                                <input class="form-control" id="n_inquilino3" name="n_inquilino3" type="text" placeholder="Nombre Completo" oninput="prueba2(this)">
                            </div>
                        
                            <div class="input-div">
                                <label for="p_inquilino3">Parentesco</label>
                                <input class="form-control" id="p_inquilino3" name="p_inquilino3" type="text" placeholder="Parentesco" oninput="prueba2(this)">
                            </div>
                        </div> 
                        <div class="input-text" id="inq_4" style="Display:none; margin-bottom:-10px;">
                            <div class="input-div">
                                <label for="n_inquilino4">Nombre</label>
                                <input class="form-control" id="n_inquilino4" name="n_inquilino4" type="text" placeholder="Nombre Completo" oninput="prueba2(this)">
                            </div>
                        
                            <div class="input-div">
                                <label for="p_inquilino4">Parentesco</label>
                                <input class="form-control" id="p_inquilino4" name="p_inquilino4" type="text" placeholder="Parentesco" oninput="prueba2(this)">
                            </div>
                        </div> 
                    
                        <div class="input-text " id="inq_5" style="Display:none; margin-bottom:-10px;">
                            <div class="input-div">
                                <label for="n_inquilino5">Nombre</label>
                                <input class="form-control" id="n_inquilino5" name="n_inquilino5" type="text" placeholder="Nombre Completo" oninput="prueba2(this)">
                            </div>
                        
                            <div class="input-div">
                                <label for="p_inquilino5">Parentesco</label>
                                <input class="form-control" id="p_inquilino5" name="p_inquilino5" type="text" placeholder="Parentesco" oninput="prueba2(this)">
                            </div>
                        </div>
                        <hr class="hr" />
                       
    
                        <div class="buttons button_space mt-4">
                            <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                            <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                            </div>
                    </div>

                    <div id="step8" class="main">
                        <small>
                            <img src="/static/assets/img/icons/aa.png" style="width:25px; height:25px;" alt="icon">
                        </small>
                        <div class="text">
                            <h2>Créditos</h2>
                            <p>Por favor introduce la información solicitada.</p>
                        </div>
                        <hr class="hr" />
                        <div class="row mt-4">
                            <label >¿Cuentas con alguna tarjeta de crédito vigente?</label>
                            <div class="input-text" style="margin-top:-10px;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="tdc_vigente" onChange="javascript:tdc(this);prueba1(this);" id="credito_si" value="Si"  />
                                    <label class="form-check-label" style="margin-right:15px; font-weight: bold;">Si</label>
                                  </div>
                                  
                                  <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="tdc_vigente" onChange="javascript:tdc(this);prueba1(this);" id="credito_no" value="No" />
                                    <label class="form-check-label" style="font-weight: bold;">No</label>
                                  </div>
                            </div>
                        </div>
                       
                        <div id="tarjeta_credito" style="display:none; margin-top:-30px;">
                            <hr class="hr" />
                            <div class="input-text">
                                <div class="input-div">
                                    <input class="form-control" type="tel" id="tdc_num" name="tdc_num" maxlength="16" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba1(this);">
                                    <span>Número De tarjeta</span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="tdc_limite" name="tdc_limite" type="tel" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba1(this);" >
                                    <span>Limite De Credito</span>
                                </div>
                                <div class="input-div"> 
                                    <input class="form-control" id="tdc_io" name="tdc_io" type="text" maxlength="10" oninput="prueba1(this)">
                                    <span>Institución Otorgante</span>
                                </div>
                            </div>
                        </div>
                        <hr class="hr" />
                        <div class="row ">
                            <label >¿Cuentas con algun crédito vigente?</label>
                            <div class="input-text" style="margin-top:-10px;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="credito_vigente" onChange="javascript:cred_vig(this);prueba1(this);" id="cv_si" value="Si"  />
                                    <label class="form-check-label" style="margin-right:15px; font-weight: bold;">Si</label>
                                  </div>
                                  <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="credito_vigente" onChange="javascript:cred_vig(this);prueba1(this);" id="cv_no" value="No"  />
                                    <label class="form-check-label" style="margin-right:15px; font-weight: bold;">No</label>
                                  </div>                                  
                            </div>
                        </div>
                        <hr class="hr" style="margin-top:-18px" />
                        <div class="row" id="tipos_credito" style="margin-top:-15px; display:none;" >
                            <label >¿De Que Tipo?</label>
                            <select class="form-select" id="credi_ocupado" name="credi_ocupado" onChange="creditos()" oninput="prueba1(this);" aria-label="Default select example">
                                <option selected>Selecciona un opción</option>
                                <option value="Automotriz">Automotriz</option>
                                <option value="Hipotecario">Hipotecario</option>
                                <option value="Ambos">Ambos</option>
                              </select>
                        </div>
                        
                            <div class="container" style="margin-top:5px; margin-bottom:10px">
                                <hr class="hr" />
                                <div class="row">
                                  <div class="col border borde-shadow-2" id="div-automotriz" style="display:none;">
                                    <p>Automotriz </p>
                                    <div class="input-div">
                                        <span>Número De Credito</span>
                                        <input type="text" id="auto_num_cre" name="auto_num_cre" maxlength="20"  oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba1(this);">
                                    </div>
                                
                                    <div class="input-div"> 
                                        <span>Institución Otorgante</span>
                                        <input class="form-control" id="auto_io" name="auto_io" type="text" oninput="prueba1(this)">
                                    </div>
                                  </div>
                                
                                  <div class="col border borde-shadow-2" id="div-hipotecario" style="display:none;">
                                    <p>Hipotecario</p>
                                    <div class="input-div">
                                        <span>Número De Credito</span>
                                        <input type="text" id="hipo_num_cre" name="hipo_num_cre" maxlength="20" oninput="javascript:this.value = this.value.replace(/[^0-9]/g, '') ; prueba1(this);">
                                    </div>
                              
                                    <div class="input-div"> 
                                        <span>Institución Otorgante</span>
                                        <input class="form-control" id="hipo_io" name="hipo_io" type="text"  oninput="prueba1(this)"  >
                                    </div>
                                  </div>
                                 
                                </div>
                         
                            </div>
                            <div id="but_credito" style="display:none;" class="buttons button_space " style="margin-bottom:20px;">
                                <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                                <input class="btn btn-primary next_button" type="button" onClick="recopilar()" value="Siguiente">
                            </div>
                    </div>

                    <div id="step9" class="main">
                        <small>
                            <img src="/static/assets/img/icons/ref.png" style="width:25px; height:25px;" alt="icon">
                        </small>
                        <div class="text">
                            <h2>Datos Domiciliarios de crédito</h2>
                            <p>Por favor introduce la dirección completa con la que haz realizado los tramites de tus creditos.</p>
                        </div>
                        <div class="input-text">
                            <div class="input-div">
                                <input type="text" id="direccion_completa" name="direccion_completa" oninput="prueba1(this)" requerido>
                                <span>Dirección Completa</span>
                            </div>
                        
                        </div>
                        <hr class="hr" />
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="checkbox" onChange="javascript:termino();prueba2(this)" value="ACEPTO" style="color:black; text-weight:bold;" id="tyc" name="tyc">
                            <p style="color:black;padding-left:5px;">Aceptar los <a target="_blank" style="color:blue;" href="/tyc/">Términos y Condiciones</a></p>
                          </div>
                          
                          
                          
                          
                          <div class="buttons button_space">
                              <button type="button" class="btn btn-outline-dark back_button">Atras</button>
                              <button class="submit_button next_button" style="background-color:gray" onClick="recopilar()" id="finalizar1" type="submit" disabled>Finalizar</button>
                        </div>
                        
                    </div>

                    <div id="final_step" class="main">
                        <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                            <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                            <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                        </svg>
                        
                        <div class="text congrats">
                            <h2>¡Listo!</h2>
                            <p>Gracias Sr./Sra. <span class="shown_name"></span>  {{ request.user.first_name }} su información se ha enviado con éxito para futuras referencias.</p> <strong>Pronto nos pondremos en contacto con usted. </strong>
                            <img src="https://i.pinimg.com/originals/91/8b/c1/918bc135ae83beee618996f17a2ef32a.gif"></img>
                        </div>
                    </div>
                    </div>
                    </div>
                    </div>

                </div>
                </div>
                </div>
                </form>
</div>
<!-- End of Modal -->
        

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %} 
<script src="/static/assets/js/ms.js"></script>
<script src="https://code.jquery.com/jquery-3.6.3.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>

function tdc(radio){
    var arr = document.getElementById("tarjeta_credito");
    //var bot = document.getElementById("but_arren");

    console.log(radio.id)

        if(radio.id=="credito_si") {
            arr.style.display='';
            //bot.style.display='';
        }

        if(radio.id=="credito_no") {
            arr.style.display='none';
            //bot.style.display='';
        }      
}

function cred_vig(radio){
    var arr = document.getElementById("tipos_credito");
    var bot = document.getElementById("but_credito");

    console.log(radio.id)

        if(radio.id=="cv_si") {
            arr.style.display='';
            bot.style.display='';
            
        }

        if(radio.id=="cv_no") {
            arr.style.display='none';
            bot.style.display='';
        }

        
       
}

function creditos(){
    let sel = document.getElementById("credi_ocupado")
    console.log(sel.value)
    if (sel.value=="Automotriz"){
        console.log("soy automotriz")
       document.getElementById("div-automotriz").style.display='';
    }
    else{
        document.getElementById("div-automotriz").style.display='none';
    }

    if (sel.value=="Hipotecario"){
        console.log(sel.value)
        document.getElementById("div-hipotecario").style.display='';
     }
     else{
        document.getElementById("div-hipotecario").style.display='none';
     }

     if (sel.value=="Ambos"){
        document.getElementById("div-automotriz").style.display='';
        document.getElementById("div-hipotecario").style.display='';
     }
    
   }

function termino(){
    tyc = document.getElementById("tyc");
    boton = document.getElementById("finalizar1");
 
    if (tyc.checked){
        
        boton.disabled = false;
        boton.style.backgroundColor="#231942ff";
    }
    else{
        boton.disabled = true;
        boton.style.backgroundColor="#808080";
    }
}
    function alert0(inquilino){
        console.log("soy el inquilino",inquilino)
        Swal.fire({
            title: '¿Éstas seguro?',
            text: "No podrás revertir esta acción",
            icon: 'warning',
            reverseButtons: true,
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Si, elimina esto',
            cancelButtonText: 'Cancelar'
        }).then((result) => {
        if (result.isConfirmed) {
                console.log("Hola Mundo");
                
            Swal.fire({
                    icon: 'success',
                    title: '¡Inquilino Eliminado!',
                    text: 'Se ha elimando de forma exitosa.',
                    showConfirmButton: false,
                    timer: 1800
                })}

            setTimeout(() => {
            eliminar(inquilino)
            location.reload()
        }, "2000");
    })}
    function alert1(){
        const swalWithBootstrapButtons = Swal.mixin({customClass: {
            confirmButton: 'btn btn-success ms-3',
            cancelButton: 'btn btn-danger me-3'
        },
        buttonsStyling: false
        })

        swalWithBootstrapButtons.fire({
            title: 'Guardar Datos',
            text: "¿Estas seguro de que quieres continuar?",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Si, guardar',
            cancelButtonText: '!No, cancelar¡',
            reverseButtons: true
        }).then((result) => {
        if (result.isConfirmed) {
            swalWithBootstrapButtons.fire(
            '¡Guardado con éxito!',
            'Tus datos han sido guardados correctamente',
            'success'
        )} else if (
        /* Read more about handling dismissals below */
            result.dismiss === Swal.DismissReason.cancel
        ){
        swalWithBootstrapButtons.fire(
            'Cancelado',
            'Ésta acción ha sido cancelada',
            'error'
        )
    }
})}

</script>
<script>
    $(function () {
        $("form").keypress(function (e) {
            var key;
            console.log(key)
            if (window.event)
                key = window.event.keyCode; //IE
            else
                key = e.which; //firefox     
            return (key != 13);
        });
    });
</script>

<script>
    function cambio_status(dato){
      
        if (dato.value == "En espera"){
            console.log("datos en verde", dato)
            dato.style.color= "orange"
        }
        if (dato.value == "Rechazado"){
            console.log("en espera pa")
            dato.style.color= "red"
        }
        if (dato.value == "Activo"){
            console.log("en espera pa")
            dato.style.color= "green"
        }

    }
 // ==========================variables globales================================================================  
 var li1= document.getElementById("li1");
 var li2= document.getElementById("li2");
 var li3= document.getElementById("li3");
 var li4= document.getElementById("li4");
 var li5= document.getElementById("li5");
 var li6= document.getElementById("li6");  
 var li7= document.getElementById("li7");  
 var li8= document.getElementById("li8");  
const arr ={};
var datosJason = {}
 document.getElementById("carga_plantar").onload  = plantar();  

function fin()
{
    localStorage.removeItem('datos');
}
function fomOnchange()  {
    sel = document.getElementById("p_fom");
    dde = document.getElementById("dde");
    ac = document.getElementById("act_con");
    txt_de = document.getElementById("tdde");
    dir_emp = document.getElementById("dir_emp");
    dir_emp2 = document.getElementById("dir_emp2");
    dir_pm = document.getElementById("dir_pm");
        console.log("sel.value")
        switch (sel.value)
        {
            case "Persona Fisica":
            Swal.fire(
            '',
            'Este Cuestionarios te tomara alrededor de 5 minutos',
            //'La referencia puede ayudar al  resultado!',
            'info'
            )

            $( "#FM" ).fadeOut( "fast" );
            console.log("persona fisica")
            txt_de.textContent = "Datos De Empleo"
            dde.style.display='';
            dir_emp.style.display='';
            ac.style.display='none';
            dir_pm.style.display='none';

            var des = ac.getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("requerido");
            }
            var des2 = dir_pm.getElementsByTagName('*');
            for (var node2 of des2) {
                node2.disabled = true;
                node.removeAttribute("requerido");
            }

            li1.textContent = "Datos Personales";
            li2.textContent = "Datos Domiciliarios";
            li3.textContent = "Datos Empleo";
            li4.textContent = "Domiclio Empleo";
            li5.textContent = "Arrendador Anterior";
            li6.textContent = "Referencias";
            li7.textContent = "Inquilinos";
            li8.textContent = "Final";
            
            $( "#FM" ).fadeIn( "fast" );
            break;
            
            case "Persona Moral":
            Swal.fire(
                '',
                'Este Cuestionarios te tomara alrededor de 5 minutos',
                'info'
                )
                
            $( "#FM" ).fadeOut( "fast" );
            console.log("persona moral")
            txt_de.textContent = "Acta Constitutiva"
            ac.style.display='';
            dir_emp2.style.display='none';
            dir_pm.style.display='';
            dde.style.display='none';
            dir_emp.style.display='none';

            var des = dde.getElementsByTagName('*');
            for (var node of des) {
                node.disabled = true;
                node.removeAttribute("requerido");
            }
            var des2 = dir_emp.getElementsByTagName('*');
            for (var node2 of des2) {
                node2.disabled = true;
                node2.removeAttribute("requerido");
            }

            li1.textContent = "Datos Personales";
            li2.textContent = "Datos Domiciliarios";
            li3.textContent = "Acta Constitutiva";
            li4.textContent = "Sig";
            li5.textContent = "Arrendador Anterior";
            li6.textContent = "Referencias";
            li7.textContent = "Inquilinos";
            li8.textContent = "Final";

            $( "#FM" ).fadeIn( "fast" );
            break;

        }
    }

function recopilar()
{
// Obtener y Guardar el valor del input en localStorage
console.log("estoy en guardar",JSON.stringify(arr))
localStorage.setItem('datos', JSON.stringify(arr));

}

function plantar()
{
    const storedData = JSON.parse(localStorage.getItem('datos'));
    var k1 = Object.getOwnPropertyNames(storedData);
    console.log("soy k1",k1)
    for(let i= 0; i<k1.length;i++)
    {
        let k2 = document.getElementsByName(k1[i]);
        k2[0].value =  storedData[k1[i]];
        console.log("soy k2",k2[0]);
    }
}

function plantar3()
{
    const storedData = JSON.parse(localStorage.getItem('datos'));
    var k1 = Object.getOwnPropertyNames(storedData);
    let nombrefull = storedData.nombre + " " + storedData.apellido+ " " + storedData.apellido1;
 
    document.getElementById("n_inquilino1").value = nombrefull;
}
function prueba2(val){
    console.log(val.name)
    arr[""+val.name] = '' +val.value
    arr2 = val.name;
    let k2 = document.getElementById(arr2);
    k2.style.borderColor="green"
    k2.classList.remove('warning')
    
    console.log(arr)

}

function prueba1(val){
    console.log(val.name)
    datosJason[""+val.name] = '' +val.value
    datos_credito = {credito:{datosJason} }
    arr['credito'] = datosJason
    console.log("arr",arr)
    console.log("datos_credito",datos_credito)
    console.log("datosJason",datosJason)

}

function aa(radio) {
    var arr = document.getElementById("arren");
    var bot = document.getElementById("but_arren");


    //   console.log(radio.value)
    console.log(radio.id)

        if(radio.id=="Simon") {
            arr.style.display='';
            bot.style.display='';
            
        }
        
        if(radio.id=="Nelson") {
            arr.style.display='none';
            bot.style.display='';
            Swal.fire(
            '¿Estas Seguro?',
            'La referencia aumentan la probabilidad de que puedas ser aprovado!',
            //'La referencia puede ayudar al  resultado!',
            'question'
            )
    }  
}
function roomie(){
    let sel = document.getElementById("floatingSelect")
    console.log(sel.value)
    if (sel.value=="Si"){
        console.log("hola")
       document.getElementById("nrc").style.display="";
    }
    else{
       document.getElementById("nrc").style.display="none";
    }
   }

</script>
<script src="/static/assets/js/ocultadorespf.js"></script>
<script src="/static/assets/repositorios/loader.js"></script>
<script>

// Primero verificamos al usuario autenticado
document.getElementById("li1").onload = auten()

// limpiamos el almacenamiento local cuando regresamos de ver los detalles de un inquilino
localStorage.removeItem('data_inquilino')
    var data_inquilinos =[]
// Configuracion general de axios
    const server = 'http://192.168.2.24:8001'
    const configin = {
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
          'Authorization': `Token ${localStorage.getItem('token')}`
        },
      }; 

      
      // Despues carcamos la tabla de usuarios
document.getElementById("cargar_tabla").onload = tabla()
// Comenzamos funciones
    function tabla(){
         axios.get(`${server}/v1/inq_list/`,configin)
            .then(function (response) { 
            data_inquilinos = response.data
            // manejar respuesta exitosa
            var cuerpo = document.getElementById("table_body")
            let res = response.data
            if(res.length > 0 ){
            console.log("res",res)
    
            for(let i = 0; i < res.length;i++)
        {
            let tr = document.createElement('tr')
            let col1 = document.createElement('td')
            let col2 = document.createElement('td')
            let col3 = document.createElement('td')
            let col4 = document.createElement('td')
            let col5 = document.createElement('td')
            let col6 = document.createElement('td')
            let col7 = document.createElement('td')
            let col8 = document.createElement('td')
            let col9 = document.createElement('td')
            let check = document.createElement("input")
            check.setAttribute("type","checkbox");
            check.setAttribute("class","form-check-input");

            col1.appendChild(check);
            col2.innerHTML = `<span class="fw-normal ">${i+1}</span>`
            col3.innerHTML = `<a class="d-flex align-items-center">
                              <div class="d-block">
                                <span class="fw-bold" onClick="ver_detalles(${res[i].id})">${res[i].nombre + " " +res[i].apellido + " " + res[i].apellido1}</span>
                                <div class="small text-gray">${res[i].email}</div>
                              </div>
                              </a>`
            col4.innerHTML = `<span class="fw-normal ">${res[i].created}</span>`
            col5.innerHTML = `<span class="fw-normal ">${res[i].p_fom}</span>`
            col6.innerHTML = ' <select id="status{{inq.id}}" style="color:green; font-weight:bold;" class="form-select" onChange="cambio_status(this)" aria-label="Default select example"><option value="Activo" selected style="color:green; font-weight:bold;"><span >Activo</span></option><option value="En espera" style="color:orange; font-weight:bold;">En espera</option><option value="Rechazado" style="color:red; font-weight:bold;">Rechazado</option></select>'
           //condicion cuanto haya Aval o no
            if (!res[i].aval[0]){  
                col7.innerHTML = `<span class="fw-normal ">No hay Fiador</span>`
            }else{
                //condicion cuando el Aval es pf
                if (res[i].aval[0].fiador_obligado == "Fiador Solidario"){
                    col7.innerHTML = `<span class="fw-normal ">${res[i].aval[0].n_fiador + " " +res[i].aval[0].a_fiador + " " + res[i].aval[0].a2_fiador}</span>`
                }
                //condicion cuando el Aval es pm
                else{
                    col7.innerHTML = `<span class="fw-normal ">${res[i].aval[0].nombre_comercial}</span>`
                }
            }
            
            //condicion cuanto haya Archivos o no
            if (!res[i].archivos[0])
            {
                col8.innerHTML = `<button type="button" class="btn btn-primary" onClick="subir(${res[i].id})">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                    <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"></path>
                    <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"></path>
                    </svg>
                    Subir
              </button>`
            }
            else{
                var prueba = JSON.stringify(res[i])
                col8.innerHTML = `<button type="button" class="btn btn-primary" onClick="det_docs(${res[i].id})">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-arrow-up" viewBox="0 0 16 16">
                    <path d="M8.5 11.5a.5.5 0 0 1-1 0V7.707L6.354 8.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 7.707V11.5z"></path>
                    <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"></path>
                    </svg>
                    Ver Docs
              </button>`
                }
            col9.innerHTML =   `<div class="btn-group dropstart">
                                <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split " data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <svg class="icon icon-xs" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"></path></svg>
                                    <span class="visually-hidden">Toggle Dropdown</span>
                                </button>
                                
                                <div class="dropdown-menu dashboard-dropdown dropdown-menu-start mt-2 py-1">
                                    <a class="dropdown-item d-flex align-items-center"onClick="editar(${res[i].id})">
                                        <svg xmlns="http://www.w3.org/2000/svg" title="Editar" data-bs-toggle="tooltip" fill="currentColor" fill-rule="evenodd"  class="icon icon-xs bi bi-pencil ms-1" viewBox="0 0 16 16">
                                            <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"/>
                                        </svg>&nbsp;Editar
                                    </a>

                                    <a class="dropdown-item d-flex align-items-center" onClick="alert0(${res[i].id})">
                                        <svg class="icon icon-xs text-danger ms-1" title="Eliminar" data-bs-toggle="tooltip" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                        &nbsp;Borrar
                                    </a>        
                                    
                                </div>   
                            </div>`; 
                           
            tr.appendChild(col1);
            tr.appendChild(col2);
            tr.appendChild(col3);
            tr.appendChild(col4);
            tr.appendChild(col5);
            tr.appendChild(col6);
            tr.appendChild(col7);
            tr.appendChild(col8);
            tr.appendChild(col9);
            cuerpo.appendChild(tr);
        }
            console.log(response);
        } else{
            cuerpo.innerHTML = '<td colspan="7"><center><h1>Sin Registro <img src="https://cdn-icons-png.flaticon.com/512/929/929457.png"style="width:50px;height:50px"></h1></center></td>'
            console.log("sin datos")
        } 
        })
          .catch(function (error) {
            // manejar error
            console.log(error);
          })
          .finally(function () {
            // siempre sera executado
          });
}

function ver_detalles(id){
    console.log("data_inquilinos",data_inquilinos)
    let info = data_inquilinos.filter(inquilino=>inquilino.id==id)
    localStorage.setItem('data_inquilino', JSON.stringify(info[0]));
    console.log("local",localStorage)
    console.log("info",info)
    window.location.href = `/detalles_inquilino/${id}`
}

function subir(id){
    console.log("data_inquilinos",data_inquilinos)
    let info = data_inquilinos.filter(inquilino=>inquilino.id==id)
    localStorage.setItem('data_inquilino', JSON.stringify(info[0]));
    console.log("local",localStorage)
    console.log("info",info)
    window.location.href = `/documentos_inq/${id}`
}
function det_docs(id){
    console.log(id)
    console.log("data_inquilinos",data_inquilinos)
    let info = data_inquilinos.filter(inquilino=>inquilino.id==id)
    console.log("i",info)
    localStorage.setItem('data_inquilino', JSON.stringify(info[0]));
    console.log("local2",localStorage)
    console.log("info",info)
    window.location.href = `/detalles_documentos/${id}`
  //
}

function editar(id){

    console.log("data_inquilinos",data_inquilinos)
    let info = data_inquilinos.filter(inquilino=>inquilino.id==id)
    localStorage.setItem('data_inquilino', JSON.stringify(info[0]));
    console.log("local",localStorage)
    console.log("info",info)
    window.location.href = `/editar_inq/${id}`
}
const formu = document.querySelector('#Formu');

function checar(){
    if (!formu.checkValidity()) {
        // Si hay campos inválidos, prevenimos el envío del formulario
        event.preventDefault()
        event.stopPropagation()
        console.log("hola")
         
      } 
}

  // function registro
    const btnSubmit = document.getElementById("finalizar1")
    let formulario = {};

    btnSubmit.addEventListener("click", function (event) {
        event.preventDefault();

        console.log("ojojojo")

        formulario = JSON.parse(localStorage.getItem('datos'));
        
        console.log("viewform",formulario)
        console.log("select",formulario.hasOwnProperty("no_inquilinos"))

        if(!formulario.hasOwnProperty("renta_compartida") ){
            formulario.renta_compartida = 'No'
        }

        if(!formulario.hasOwnProperty("no_inquilinos") ){
            formulario.no_inquilinos = '1'
            formulario.n_inquilino1 = formulario.nombre+ " " + formulario.apellido + " " + formulario.apellido1 
        }
        
        enviar_datos(formulario)
        localStorage.removeItem('datos')
        setTimeout(() => {
            location.reload()
        }, "3000");
       
    })

async function enviar_datos(formulario){
        const response = await axios.post(`${server}/v1/inquilino_registro/`,formulario,configin)
        console.log("response",response)
    }

async function eliminar(id){
    console.log("data_inquilinos",data_inquilinos)
    let info = data_inquilinos.filter(inquilino=>inquilino.id==id)
    console.log("info",info[0].id)
    let clave = {id:info[0].id}
    await axios.post(`${server}/v1/inquilinos_delete/`,clave,configin)
   .then(function (response) {
    // manejar respuesta exitosa
    console.log("eliminado exitosamente")
    console.log(response);

  })
  .catch(function (error) {
    // manejar error
    console.log(error);
  })
  .finally(function () {
    // siempre sera executado
    location.reload()
  });
     
}
</script>
<script src="/static/assets/repositorios/loader.js"></script>
<script>
    document.getElementById("li2").onload = inicio()
    function inicio(){
        auten()
    }
   
</script>
{% endblock javascripts %}
